(function(t){function e(e){for(var i,r,o=e[0],h=e[1],l=e[2],c=0,d=[];c<o.length;c++)r=o[c],n[r]&&d.push(n[r][0]),n[r]=0;for(i in h)Object.prototype.hasOwnProperty.call(h,i)&&(t[i]=h[i]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var o=a[r];0!==n[o]&&(i=!1)}i&&(s.splice(e--,1),t=h(h.s=a[0]))}return t}var i={},r={app:0},n={app:0},s=[];function o(t){return h.p+"js/"+({}[t]||t)+"."+{"chunk-03393f1c":"2a3c76bf","chunk-03947276":"175f14ab","chunk-173633d8":"4fd5c34b","chunk-1a23321c":"b94f8142","chunk-1cc1bf84":"df79d453","chunk-2d21a3d2":"8f2395fb","chunk-375cd434":"f7acccd5","chunk-4bbf88ef":"f5a02b7f","chunk-7e48898a":"24dd85a1","chunk-7f454f6b":"fe28f82b","chunk-a82a2ab4":"e0dfc04b","chunk-acecc794":"acc7f815","chunk-de083b90":"62164b12"}[t]+".js"}function h(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,h),a.l=!0,a.exports}h.e=function(t){var e=[],a={"chunk-03393f1c":1,"chunk-03947276":1,"chunk-173633d8":1,"chunk-1a23321c":1,"chunk-1cc1bf84":1,"chunk-375cd434":1,"chunk-4bbf88ef":1,"chunk-7e48898a":1,"chunk-7f454f6b":1,"chunk-a82a2ab4":1,"chunk-acecc794":1,"chunk-de083b90":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise(function(e,a){for(var i="css/"+({}[t]||t)+"."+{"chunk-03393f1c":"22235ce9","chunk-03947276":"83e1eb47","chunk-173633d8":"20767c25","chunk-1a23321c":"ec1ba6d2","chunk-1cc1bf84":"a814d54b","chunk-2d21a3d2":"31d6cfe0","chunk-375cd434":"3bbde528","chunk-4bbf88ef":"83b06b74","chunk-7e48898a":"924727a6","chunk-7f454f6b":"7f1d1a70","chunk-a82a2ab4":"5be03bd4","chunk-acecc794":"48aa9adb","chunk-de083b90":"e8afe86d"}[t]+".css",n=h.p+i,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===i||c===n))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],c=l.getAttribute("data-href");if(c===i||c===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var i=e&&e.target&&e.target.src||n,s=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");s.request=i,delete r[t],p.parentNode.removeChild(p),a(s)},p.href=n;var u=document.getElementsByTagName("head")[0];u.appendChild(p)}).then(function(){r[t]=0}));var i=n[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise(function(e,a){i=n[t]=[e,a]});e.push(i[2]=s);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,h.nc&&c.setAttribute("nonce",h.nc),c.src=o(t),l=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+i+": "+r+")");s.type=i,s.request=r,a[1](s)}n[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:c})},12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(e)},h.m=t,h.c=i,h.d=function(t,e,a){h.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},h.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,e){if(1&e&&(t=h(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(h.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)h.d(a,i,function(e){return t[e]}.bind(null,i));return a},h.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return h.d(e,"a",e),e},h.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},h.p="/bydelsfakta/",h.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0428":function(t,e,a){"use strict";var i=function(){return"/bydelsfakta"};e["a"]=i},"4e16":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var i=a("2b0e"),r=a("bb71");i["a"].use(r["a"],{iconfont:"md"});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{staticClass:"oslo__navigation-drawer",attrs:{permanent:"",app:""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{lg12:"","align-self-center":""}},[a("img",{staticClass:"oslo__logo",attrs:{src:t.osloIcon,alt:"oslo-logo"},on:{click:t.onClickHome}})]),t._l(t.links,function(e){return a("v-flex",{key:e.key,class:t.checkActiveBydel(e.uri),attrs:{label:e.value}},[a("v-layout",{staticStyle:{height:"40px"},attrs:{row:""}},[a("v-flex",{attrs:{xs1:""}},[a("v-checkbox",{attrs:{value:e.key,color:"#6ee9ff",dark:""},on:{change:t.onCheckboxChange},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("v-flex",{staticStyle:{"margin-top":"0.7rem",cursor:"pointer"},attrs:{xs11:""},on:{click:function(a){t.onClickBydel(e.uri)}}},[a("span",{staticClass:"oslo__navigation-link--label"},[t._v(t._s(e.value))])])],1)],1)}),a("v-flex",{class:t.checkActiveSammenlign(),staticStyle:{"margin-top":"0.7rem",cursor:"pointer"},on:{click:t.onClickSammenlign}},[a("span",{staticClass:"oslo__navigation-link--label"},[t._v("Sammenlign bydeler")])])],2)],1),a("v-content",[a("v-layout",{staticClass:"oslo__navigation-topbar",attrs:{column:""}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-icon",{staticClass:"oslo__topbar"},[t._v("arrow_back")]),a("h4",{staticClass:"text-uppercase oslo__topbar oslo__topbar-text"},[t._v("\n            "+t._s(t.getBydel(this.$route.params.bydel))+"\n          ")])],1),a("v-flex",{attrs:{lg6:"",md8:"",sm8:"",xs10:""}},[a("v-select",{staticClass:"v-select__selection--uppercase",attrs:{items:t.items,label:"VELG TEMA"},model:{value:t.selectedSubpage,callback:function(e){t.selectedSubpage=e},expression:"selectedSubpage"}})],1)],1)],1),a("router-view")],1)],1)},s=[],o=a("a34a"),h=a.n(o),l=[{key:"1",value:"Bydel Gamle Oslo",uri:"gamleoslo"},{key:"2",value:"Bydel Grünerløkka",uri:"grunerlokka"},{key:"3",value:"Bydel Sagene",uri:"sagene"},{key:"4",value:"Bydel St. Hanshaugen",uri:"sthanshaugen"},{key:"5",value:"Bydel Frogner",uri:"frogner"},{key:"6",value:"Bydel Ullern",uri:"ullern"},{key:"7",value:"Bydel Vestre Aker",uri:"vestreaker"},{key:"8",value:"Bydel Nordre Aker",uri:"nordreaker"},{key:"9",value:"Bydel Bjerke",uri:"bjerke"},{key:"10",value:"Bydel Grorud",uri:"grorud"},{key:"11",value:"Bydel Stovner",uri:"stovner"},{key:"12",value:"Bydel Alna",uri:"alna"},{key:"13",value:"Bydel Østensjø",uri:"ostensjo"},{key:"14",value:"Bydel Nordstrand",uri:"nordstrand"},{key:"15",value:"Bydel Søndre Nordstrand",uri:"sondrenordstrand"}],c=l,d=a("eeed"),p=a("56da"),u=a.n(p);function g(t){return x(t)||m(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function x(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}function b(t,e,a,i,r,n,s){try{var o=t[n](s),h=o.value}catch(l){return void a(l)}o.done?e(h):Promise.resolve(h).then(i,r)}function v(t){return function(){var e=this,a=arguments;return new Promise(function(i,r){var n=t.apply(e,a);function s(t){b(n,i,r,s,o,"next",t)}function o(t){b(n,i,r,s,o,"throw",t)}s(void 0)})}}var y={name:"App",computed:{selectedBydel:function(){return this.$store.state.selectedBydel}},data:function(){return{links:c,selected:[],items:d["a"],selectedSubpage:"",osloIcon:u.a,bydel:this.getBydel(this.$route.params.bydel)}},mounted:function(){var t=v(h.a.mark(function t(){var e,a,i,r,n=this;return h.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.path.split("/"),a=this.$route.path,void 0!==this.$route.params.bydel){t.next=6;break}return t.abrupt("return");case 6:if(!a.includes("sammenlign")){t.next=13;break}return i=this.$route.params.bydel.split("-"),t.next=10,this.$store.dispatch("SET_SELECTED_BYDEL",{selectedBydel:i});case 10:this.selected=this.selectedBydel,t.next=18;break;case 13:if(!a.includes("bydel")){t.next=18;break}return r=c.find(function(t){return t.uri===n.$route.params.bydel}).key,t.next=17,this.$store.dispatch("SET_SELECTED_BYDEL",{selectedBydel:r});case 17:this.selected=this.selectedBydel;case 18:e.length>3&&(this.selectedSubpage=e[3]);case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{onCheckboxChange:function(){var t=v(h.a.mark(function t(e){var a;return h.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$route.path.split("/"),t.next=3,this.$store.dispatch("SET_SELECTED_BYDEL",{selectedBydel:g(e)});case 3:this.selectedBydel.length>1&&(a.length>3?this.$router.push({path:"/sammenlign/".concat(this.selected.join("-"),"/").concat(a[3])}):this.$router.push({path:"/sammenlign/".concat(this.selected.join("-"))}));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),checkActiveBydel:function(t){return this.$route.params.bydel===t&&this.$route.path.includes("bydel")?"oslo__navigation-link--active":"oslo__navigation-link"},checkActiveSammenlign:function(){return this.$route.path.includes("sammenlign")?"oslo__navigation-link--active":"oslo__navigation-link"},onClickBydel:function(t){var e=this.$route.path.split("/"),a=c.find(function(e){return e.uri===t}).uri;e.length>3?this.$router.push({path:"/bydel/".concat(a,"/").concat(e[3])}):this.$router.push({path:"/bydel/".concat(a)})},onClickSammenlign:function(){var t=this.$route.path.split("/");t.length>3?this.$router.push({path:"/sammenlign/".concat(this.selected.join("-"),"/").concat(t[3])}):this.$router.push({path:"/sammenlign/".concat(this.selected.join("-"))})},getBydel:function(t){return this.$route.path.includes("sammenlign")?"Sammenligne bydeler":void 0!==t?c.find(function(e){return e.uri===t}).value:"Velg bydel"},onClickHome:function(){this.selected=[],this.$router.push({name:"Home"})}},watch:{$route:function(t){var e=this.$route.path.split("/");if(t.path.includes("bydel")){var a=c.find(function(t){return t.uri===e[2]}).key;this.selected=[a],this.selectedSubpage=null}e.length>3&&(this.selectedSubpage=e[3])},selectedSubpage:function(t){this.$route.path.includes("sammenlign")&&null!==t?this.$router.push({path:"/sammenlign/".concat(this.$route.params.bydel,"/").concat(t)}):this.$route.path.includes("bydel")&&null!==t&&this.$router.push({path:"/bydel/".concat(this.$route.params.bydel,"/").concat(t)})}}},w=y,k=(a("b106"),a("2877")),_=a("6544"),A=a.n(_),L=a("7496"),H=a("ac7c"),R=a("a523"),B=a("549c"),T=a("0e8f"),C=a("132d"),j=a("a722"),D=a("f774"),E=a("b56d"),S=Object(k["a"])(w,n,s,!1,null,"af7f5ca0",null);S.options.__file="App.vue";var F=S.exports;A()(S,{VApp:L["a"],VCheckbox:H["a"],VContainer:R["a"],VContent:B["a"],VFlex:T["a"],VIcon:C["a"],VLayout:j["a"],VNavigationDrawer:D["a"],VSelect:E["a"]});var z=a("8c4f"),O=a("f972"),$=a("0428"),M={folkemengde:{},alder:{name:"alder",aldersgrupper:[{size:"large",tabs:[{active:!1,label:"Antall",id:"alder_segment_antall",template:"d",url:"".concat(Object($["a"])(),"/mockDataD2.json"),method:"value"},{active:!1,label:"Andel",id:"alder_segment_andel",template:"d",url:"".concat(Object($["a"])(),"/mockDataD2.json"),method:"ratio"}]}],populasjonspyramide:[{size:"large",tabs:[{active:!1,label:"Status",id:"alder_distribusjon_status",template:"e",url:"".concat(Object($["a"])(),"/mockDataD2.json")},{active:!1,label:"Historisk",id:"alder_distribusjon_historisk",template:"b",url:"".concat(Object($["a"])(),"/mockDataB.json")}]}],median:[{size:"large",tabs:[{active:!1,label:"Status",id:"alder_medianalder_status",template:"f",url:"".concat(Object($["a"])(),"/mockDataD2.json")}]}]},innvandring:{},eierform:{},boligpriser:{},trangboddhet:{},kommunale_boliger:{},flytting:{},bygningstyper:{},husholdninger:{},levekaar:{}},I=function(){return a.e("chunk-7f454f6b").then(a.bind(null,"02cd"))},P=function(){return a.e("chunk-7e48898a").then(a.bind(null,"8644"))},G=function(){return a.e("chunk-1cc1bf84").then(a.bind(null,"a822"))},V=function(){return a.e("chunk-173633d8").then(a.bind(null,"73e3"))},U=function(){return a.e("chunk-4bbf88ef").then(a.bind(null,"0370"))},W=function(){return a.e("chunk-a82a2ab4").then(a.bind(null,"2938"))},Y=function(){return a.e("chunk-375cd434").then(a.bind(null,"42be"))},X=function(){return a.e("chunk-2d21a3d2").then(a.bind(null,"bb51"))},N=function(){return a.e("chunk-03393f1c").then(a.bind(null,"0e4c"))},K=function(){return a.e("chunk-acecc794").then(a.bind(null,"e121"))},q=function(){return a.e("chunk-03947276").then(a.bind(null,"4218"))},J=function(){return a.e("chunk-de083b90").then(a.bind(null,"8cbc"))},Q=function(){return a.e("chunk-1a23321c").then(a.bind(null,"a814"))};i["a"].use(z["a"]);var Z=new z["a"]({routes:[{path:"/",name:"Home",component:X},{path:"/graphA",name:"Graph1",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataA.json"),template:"a"}},component:O["a"]},{path:"/graphB",name:"Graph2",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataB.json"),template:"b"}},component:O["a"]},{path:"/graphC",name:"Graph3",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataC.json"),template:"c"}},component:O["a"]},{path:"/graphD",name:"Graph4",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataD2.json"),method:"ratio",template:"d"}},component:O["a"]},{path:"/graphD2",name:"Graph5b",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataD2.json"),method:"value",template:"d"}},component:O["a"]},{path:"/graphE",name:"Graph5",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataD2.json"),template:"e"}},component:O["a"]},{path:"/graphF",name:"Graph8",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataD2.json"),template:"f"}},component:O["a"]},{path:"/graphG",name:"Graph7",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataG.json"),template:"g"}},component:O["a"]},{path:"/graphH",name:"Graph10",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataH.json"),template:"h"}},component:O["a"]},{path:"/graphI",name:"Graph6",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataI.json"),template:"i"}},component:O["a"]},{path:"/graphJ",name:"Graph9",props:{settings:{url:"".concat(Object($["a"])(),"/mockDataJ.json"),template:"j"}},component:O["a"]},{path:"/bydel/:bydel",name:"Bydel",component:G},{path:"/bydel/:bydel/folkemengde",name:"BydelFolkemengde",component:Y},{path:"/bydel/:bydel/alder",name:"BydelAlder",props:{settings:M.alder},component:I},{path:"/bydel/:bydel/innvandrerbefolkningen",name:"BydelInnvandrerbefolkningen",component:K},{path:"/bydel/:bydel/husholdninger",name:"BydelHusholdninger",component:N},{path:"/bydel/:bydel/trangboddhet",name:"BydelTrandboddhet",component:Q},{path:"/bydel/:bydel/eierform",name:"BydelEierform",component:U},{path:"/bydel/:bydel/kommunaleboliger",name:"BydelKommunaleboliger",component:q},{path:"/bydel/:bydel/flytting",name:"BydelFlytting",component:W},{path:"/bydel/:bydel/bygningstyper",name:"BydelBygningstyper",component:V},{path:"/bydel/:bydel/boligpriser",name:"BydelBoligpriser",component:P},{path:"/bydel/:bydel/levekaar",name:"Bydellevekaar",component:J},{path:"/sammenlign/:bydel",name:"Sammenlign",component:G},{path:"/sammenlign/:bydel/folkemengde",name:"Folkemengde",component:Y},{path:"/sammenlign/:bydel/alder",name:"Alder",component:I},{path:"/sammenlign/:bydel/innvandrerbefolkningen",name:"Innvandrerbefolkningen",component:K},{path:"/sammenlign/:bydel/husholdninger",name:"Husholdninger",component:N},{path:"/sammenlign/:bydel/trangboddhet",name:"Trandboddhet",component:Q},{path:"/sammenlign/:bydel/eierform",name:"Eierform",component:U},{path:"/sammenlign/:bydel/kommunaleboliger",name:"Kommunaleboliger",component:q},{path:"/sammenlign/:bydel/flytting",name:"Flytting",component:W},{path:"/sammenlign/:bydel/bygningstyper",name:"Bygningstyper",component:V},{path:"/sammenlign/:bydel/boligpriser",name:"Boligpriser",component:P},{path:"/sammenlign/:bydel/levekaar",name:"levekaar",component:J}]}),tt=a("2f62");i["a"].use(tt["a"]);var et=!1,at=new tt["a"].Store({state:{selectedBydel:[]},debug:et,mutations:{SET_SELECTED_BYDEL:function(t,e){var a=e.selectedBydel,i=t;i.selectedBydel=a}},actions:{SET_SELECTED_BYDEL:function(t,e){var a=t.commit,i=e.selectedBydel;return a("SET_SELECTED_BYDEL",{selectedBydel:i}),Promise.resolve()}}});a("da64"),a("fb98");i["a"].config.productionTip=!1,i["a"].config.devtools=!0,i["a"].config.performance=!1,new i["a"]({router:Z,store:at,render:function(t){return t(F)}}).$mount("#app")},"56da":function(t,e,a){t.exports=a.p+"img/oslo-logo.f788c641.svg"},"73fe":function(t,e,a){"use strict";var i=a("4e16"),r=a.n(i);r.a},b106:function(t,e,a){"use strict";var i=a("e74e"),r=a.n(i);r.a},e74e:function(t,e,a){},eeed:function(t,e,a){"use strict";var i=a("0428"),r=[{text:"Folkemengde",value:"folkemengde",options:{kategori:"Befolkning",tema:"Folkemengde",bgImage:"".concat(Object(i["a"])(),"/img/folkemengde.png"),bgColor:"rgb(255, 129, 116)",txtColor:"rgb(245, 173, 165)"}},{text:"Alder",value:"alder",options:{kategori:"Befolkning",tema:"Alder",bgImage:"".concat(Object(i["a"])(),"/img/alder.png"),bgColor:"rgb(255, 129, 116)",txtColor:"rgb(245, 173, 165)"}},{text:"Innvandrerbefolkningen",value:"innvandrerbefolkningen",options:{kategori:"Befolkning",tema:"Innvandrer-befolkningen",bgImage:"".concat(Object(i["a"])(),"/img/innvandring.png"),bgColor:"rgb(255, 129, 116)",txtColor:"rgb(245, 173, 165)"}},{text:"Husholdninger",value:"husholdninger",options:{kategori:"Bomiljø",tema:"Husholdninger",bgImage:"".concat(Object(i["a"])(),"/img/husholdninger.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Trangboddhet",value:"trangboddhet",options:{kategori:"Bomiljø",tema:"Trangboddhet",bgImage:"".concat(Object(i["a"])(),"/img/trangboddhet.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Eierform",value:"eierform",options:{kategori:"Bomiljø",tema:"Eierform",bgImage:"".concat(Object(i["a"])(),"/img/eierform.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Kommunale boliger",value:"kommunaleboliger",options:{kategori:"Bomiljø",tema:"Kommunale boliger",bgImage:"".concat(Object(i["a"])(),"/img/kommunale-boliger.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Flytting",value:"flytting",options:{kategori:"Bomiljø",tema:"Flytting",bgImage:"".concat(Object(i["a"])(),"/img/flytting.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Bygningstyper",value:"bygningstyper",options:{kategori:"Bomiljø",tema:"Bygningstyper",bgImage:"".concat(Object(i["a"])(),"/img/bygningstyper.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Boligpriser",value:"boligpriser",options:{kategori:"Bomiljø",tema:"Boligpriser",bgImage:"".concat(Object(i["a"])(),"/img/boligpriser.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Levekår",value:"levekaar",options:{kategori:"Levekår",tema:"Levekår",bgImage:"".concat(Object(i["a"])(),"/img/levekaar.png"),bgColor:"rgb(248, 198, 107)",txtColor:"rgb(244, 206, 138)"}}];e["a"]=r},f972:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"graph__container"},[t.showDropdown?a("select",{staticClass:"graph__dropdown",attrs:{name:"",id:""},on:{input:function(e){t.svg.render(t.res,"ratio",e.target.value)}}},t._l(t.dropDownList,function(e,i){return a("option",{key:i,domProps:{value:e.range,selected:e.selected}},[t._v(t._s(e.label))])}),0):t._e(),a("svg",{ref:"svg",staticClass:"graph__svg"})])},r=[],n=a("5698"),s=[{range:"[0, 119]",label:"Alle",selected:!0},{range:"[0, 1]",label:"0–1 år"},{range:"[0, 5]",label:"0–5 år"},{range:"[6, 12]",label:"6–12 år"},{range:"[6, 15]",label:"6–15 år"},{range:"[6, 17]",label:"6–17 år"},{range:"[12, 15]",label:"12–15 år"},{range:"[16, 18]",label:"16–18 år"},{range:"[16, 18]",label:"19–29 år"},{range:"[16, 18]",label:"19–29 år"},{range:"[30, 49]",label:"30–49 år"},{range:"[50, 66]",label:"50–66 år"},{range:"[67, 119]",label:"67+ år"},{range:"[60, 79]",label:"60–79 år"},{range:"[80, 119]",label:"80+ år"},{range:"[80, 89]",label:"80–89 år"},{range:"[90, 119]",label:"90+ år"}],o=(a("fd32"),a("ce24"),a("4611"),a("ad68"),a("bc17"),a("70e1"),a("f1df"),a("5f8f"),n);function h(t){this.data={},this.height=800,this.width=800,this.padding={top:30,right:40,bottom:40,left:120},this.height2=0,this.yGutter=0,this.x=o.scaleLinear(),this.y=o.scaleBand(),this.max=0,this.min=0,this.rowHeight=43,this.barHeight=24,this.tabWidth=120,this.tabGap=10,this.strokeWidth=4,this.strokeWidthHighlight=6,this.parseDate=o.timeParse("%Y-%m-%d"),this.formatYear=o.timeFormat("%Y"),this.init=function(){this.svg=o.select(t).attr("height",this.height+this.height2+this.yGutter+this.padding.top+this.padding.bottom).attr("width",this.width+this.padding.left+this.padding.right).attr("test","test"),this.svg.selectAll("*").remove(),this.heading=this.svg.append("text").attr("class","heading").attr("font-size",14).attr("font-weight","bold").attr("y",14).text("loading ..."),this.heading.append("title").html("tooltip text goes here"),this.canvas=this.svg.append("g").attr("class","canvas").attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.xAxis=this.canvas.append("g").attr("class","axis x"),this.yAxis=this.canvas.append("g").attr("class","axis y"),this.x2Axis=this.canvas.append("g").attr("class","axis x2"),this.y2Axis=this.canvas.append("g").attr("class","axis y2"),this.created()},this.parentWidth=function(){return t.parentNode.getBoundingClientRect().width},this.created=function(){},this.render=function(){}}var l={color:{yellow:"#F8C66B",light_yellow:"#F8F0DC",purple:"#292858",grey:"#cccccc",light_grey:"#F0F1F1",red:"#FF8174",blue:"#6EE9FF",positive:"#06AFCD"},formatTicksY_leftAlign:function(t,e){t.selectAll(".tick text").attr("font-size",16).attr("x",-e).attr("text-anchor","start"),t.selectAll(".tick line").attr("opacity",0),t.select(".domain").attr("opacity",0)},formatTicksX:function(t){t.selectAll(".tick text").attr("font-size",12),t.select(".domain").attr("opacity",1)},truncate:function(t,e){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:14,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400;e=2===e.length?e[1]-e[0]:e;var n=o.select("body").append("svg");n.append("text").text(t).attr("font-size",i).attr("font-weight",r).each(function(t){a=this.getComputedTextLength()}),n.remove();var s=Math.max(t.length-Math.floor(e/a*t.length),0);return s&&(t=t.substring(0,t.length-s-1),t+="..."),t}};function c(t){h.apply(this,arguments),this.padding.top=100,this.padding.left=190,this.gutter=30,this.x2=o.scaleLinear(),this.x=[];var e=o.format(".0%");this.initRowElements=function(t){t.append("rect").attr("class","rowFill").attr("fill",l.color.purple).attr("height",this.rowHeight).attr("x",-this.padding.left).attr("width",this.width+this.padding.left),t.append("rect").attr("class","divider").attr("fill",l.color.purple).attr("x",-this.padding.left).attr("width",this.width+this.padding.left).attr("height",1).attr("y",this.rowHeight),t.append("text").attr("class","geography").attr("fill",l.color.purple).attr("y",this.rowHeight/2+6).attr("x",10-this.padding.left)},this.drawRows=function(){var t=this,e=this.canvas.selectAll("g.row").data(this.data.data),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),this.initRowElements(a),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow,0}),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(e){return l.truncate(e.geography,t.padding.left)}),e.attr("data-total",function(t){return t.totalRow}),e.attr("data-avg",function(t){return t.avgRow});var i=e.selectAll("rect.bar").data(function(t){return t.values}),r=i.enter().append("rect").attr("width",0).attr("class","bar");i.exit().remove(),i=i.merge(r),i.attr("height",function(e,a,i){return i[0].parentNode.getAttribute("data-total")?1:t.barHeight}).attr("y",function(e,a,i){return i[0].parentNode.getAttribute("data-total")?t.rowHeight/2:(t.rowHeight-t.barHeight)/2}).attr("fill",function(t,e,a){return a[0].parentNode.getAttribute("data-avg")?l.color.yellow:l.color.purple}),i.transition().attr("width",function(e){return t.x[0](e)}).attr("x",function(e,a){return t.x[a](0)})},this.setScales=function(){var t=this,e=this.data.meta.series.map(function(e,a){return o.max(t.data.data.map(function(t){return t.values[a]}))});this.x2=o.scaleLinear().range([0,this.width-(this.gutter*this.data.meta.series.length-1)]).domain([0,o.sum(e)]),this.x=this.data.meta.series.map(function(a,i){for(var r=o.scaleLinear(),n=0,s=0;s<i;s++)n+=t.x2(e[s]),n+=t.gutter;var h=n+t.x2(e[i]);return r.domain([0,e[i]]).range([n,h]),r}),this.x2.domain(this.data.meta.series.map(function(t,e){return e})).range([0,this.width])},this.drawAxis=function(){var t=this,a=this.canvas.selectAll("g.axis.x").data(this.x),i=a.enter().append("g").attr("class","axis x").attr("transform","translate(".concat(0,", ",this.height+10,")"));a.exit().remove(),a=a.merge(i),a.each(function(a,i,r){o.select(r[i]).attr("transform","translate(".concat(0,", ",t.height+10,")")).transition().call(o.axisBottom(t.x[i]).ticks(2).tickFormat(e)),l.formatTicksX(o.select(r[i]))})},this.drawColumns=function(){var t=this,e=this.canvas.selectAll("g.column").data(this.data.meta.series),a=e.enter().append("g").attr("class","column");e.exit().remove(),e=e.merge(a),e.transition().attr("transform",function(e,a){return"translate(".concat(t.x[a](0),",0)")}),a.append("rect").attr("fill",l.color.light_grey),a.append("rect").attr("class","arrow").attr("width",1).attr("height",11),a.append("text").attr("class","colHeading").attr("transform","translate(0, -40)"),a.append("text").attr("class","colSubheading").attr("transform","translate(0, -20)"),e.select("text.colHeading").text(function(t){return t.heading}).append("title").html(function(t){return t.heading}),e.select("text.colSubheading").text(function(e,a){return l.truncate(e.subheading,t.x[a].range())}).append("title").html(function(t){return t.subheading}),e.select("rect").attr("y",-10).attr("height",this.height+10).transition().attr("width",function(e,a){return t.data.data.filter(function(t){return t.totalRow}).length?t.x[0](t.data.data.filter(function(t){return t.totalRow})[0].values[a]):0}),e.select("rect.arrow").attr("y",function(){var e=t.data.data.findIndex(function(t){return t.totalRow});return e*t.rowHeight}).attr("transform","translate(0, ".concat(this.rowHeight/2-5,")")).transition().attr("x",function(e,a){return t.x[0](t.data.data.filter(function(t){return t.totalRow})[0].values[a])})},this.render=function(t){(t||t.data)&&(this.data=t,this.heading.text(this.data.meta.heading),this.height=this.rowHeight*this.data.data.length+1,this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.height=this.data.data.length*this.rowHeight,this.svg.attr("height",this.padding.top+this.height+this.padding.bottom).attr("width",this.padding.left+this.width+this.padding.right),this.setScales(),this.drawAxis(),this.drawColumns(),this.drawRows())},this.init(t)}var d=c;function p(t){var e=this;h.apply(this,arguments),this.padding.top=50,this.padding.left=60,this.padding.right=220,this.height=300,this.width=700;var a=this.strokeWidth,i=this.strokeWidthHighlight;this.line=o.line().x(function(t){return e.x(e.parseDate(t.date))}).y(function(t){return e.y(t[e.method])}),this.getTickFormat=function(){var t,e=this.y.max-this.y.min;return"value"===this.method?o.format(""):(t=e<.01?o.format(".2%"):e<.04?o.format(".1%"):o.format(".0%"),t)},this.drawLabels=function(){var t=this,e=this.canvas.selectAll("text.label").data(this.data.data.filter(function(t){return t.avgRow||t.totalRow})),a=e.enter().append("text").attr("class","label");e.exit().remove(),e=e.merge(a),a.append("title"),e.text(function(e){return l.truncate(e.geography,t.padding.right-30)}).attr("x",this.width+10).attr("font-weight","bold").attr("y",function(e){return t.y(e.values[e.values.length-1][t.method])+5}),e.selectAll("title").data(function(t){return[t.geography]}).enter().append("title").html(function(t){return t})},this.createInfoBoxElements=function(){this.infobox=this.svg.append("g").attr("class","infobox"),this.infoboxBody=this.infobox.append("g").attr("class","infobox__body"),this.infoboxBody.append("rect").attr("class","background"),this.infoboxHead=this.infobox.append("g").attr("class","infobox__head"),this.infoboxHead.append("rect").attr("class","background"),this.infoboxTitle=this.infoboxHead.append("text"),this.infoboxContent=this.infoboxBody.append("g").attr("class","infobox__content"),this.infoboxHeading=this.infoboxContent.append("text").attr("class","infobox__heading"),this.infoboxContent.append("rect").attr("class","infobox__rule"),this.infoboxTable=this.infoboxContent.append("g").attr("class","infobox__table")},this.drawInfobox=function(){if(-1!==this.highlight){var t=o.timeFormat("%Y"),e=this.data.data[this.highlight].values,a=this.data.data[this.highlight].geography,i=e.reduce(function(t,e){return t.value>e.value?t:e}),r=e.reduce(function(t,e){return t.value<e.value?t:e});this.infobox.attr("transform","translate(".concat(this.padding.left+this.width,", ").concat(this.padding.top,")")).transition().attr("opacity",1),this.infoboxHead.select("rect.background").attr("height",30).attr("width",this.padding.right-22).attr("x",11).attr("fill",l.color.purple),this.infoboxTitle.attr("y",20).attr("x",21).attr("font-size",14).attr("font-weight",700).text(l.truncate(a,this.padding.right-55,14,700)).attr("fill",l.color.blue),this.infoboxBody.select("rect.background").attr("height",this.height-40).attr("y",20).attr("x",4).attr("width",this.padding.right-8).attr("fill",l.color.light_yellow).attr("stroke",l.color.purple),this.infoboxContent.attr("transform","translate(20, 60)"),this.infoboxHeading.attr("font-size",12).attr("font-weight",700).attr("text-transform","uppercase").attr("fill",l.color.purple).text(l.truncate(this.data.meta.heading,this.padding.right-90,12,700).toUpperCase()),this.infoboxTable.selectAll("*").remove(),this.infoboxTable.append("text").attr("y",50).text("Utvikling"),this.infoboxTable.append("text").attr("y",75).text("Utvikling (p.p.)"),this.infoboxTable.append("text").attr("y",100).text("Høyest (".concat(t(this.parseDate(i.date)),")")),this.infoboxTable.append("text").attr("y",125).text("Lavest (".concat(t(this.parseDate(r.date)),")")),this.infoboxTable.append("text").attr("font-weight",700).attr("y",50).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round((e[e.length-1].value-e[0].value)/e[0].value*100)+"%"),this.infoboxTable.append("text").attr("font-weight",700).attr("y",75).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*(e[e.length-1].ratio-e[0].ratio))/100),this.infoboxTable.append("text").attr("font-weight",700).attr("y",100).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*i.ratio)/100+"%"),this.infoboxTable.append("text").attr("font-weight",700).attr("y",125).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*r.ratio)/100+"%")}else this.infobox.attr("opacity",0)},this.drawLines=function(){var t=this,e=this.canvas.selectAll("path.row").data(this.data.data),r=e.enter().append("path").attr("class","row");e.exit().remove(),e=e.merge(r),e.attr("d",function(e){return t.line(e.values)}).attr("stroke",function(t){return t.totalRow?l.color.blue:t.avgRow?l.color.red:"#cccccc"}).attr("stroke-width",3).attr("fill","none"),e.on("mouseover",function(){o.select(this).attr("stroke-width",i)}),e.on("mouseleave",function(){o.select(this).attr("stroke-width",a)}),e.on("click",function(e,a){a===t.highlight?t.render(t.data,t.method,-1):t.render(t.data,t.method,a)})},this.setScales=function(){var t=this;this.y.max=1.1*o.max(this.data.data.map(function(e){return o.max(e.values.map(function(e){return e[t.method]}))})),this.y.min=o.min(this.data.data.map(function(e){return o.min(e.values.map(function(e){return e[t.method]}))}))/1.2,this.x=o.scaleTime().domain([o.timeMonth.offset(this.parseDate(this.data.data[0].values[0].date),-1),this.parseDate(this.data.data[0].values[this.data.data[0].values.length-1].date)]).range([0,this.width]),this.y=o.scaleLinear().domain([this.y.min,this.y.max]).range([this.height,0])},this.drawAxis=function(){var t=this.getTickFormat();this.yAxis.call(o.axisLeft(this.y).tickFormat(t)),this.xAxis.call(o.axisBottom(this.x)).attr("transform","translate(0, ".concat(this.height,")"))},this.created=function(){this.createInfoBoxElements()},this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;t&&t.data&&(this.data=t,this.method=e,this.heading.text(this.data.meta.heading),this.highlight=a,this.setScales(),this.drawLines(),this.drawAxis(),this.drawLabels(),this.drawInfobox())},this.init(t)}var u=p;function g(t){var e=this;h.apply(this,arguments),this.padding.top=130,this.padding.left=60,this.padding.right=220,this.height=500,this.width=640;var a=o.line().x(function(t){return e.x(e.parseDate(t.date))}).y(function(t){return e.y(t[e.method])});this.created=function(){this.tabs=this.svg.append("g").attr("class","tabs").attr("transform","translate(0, 20)"),this.tabs.append("rect").attr("class","rule"),this.createInfoBoxElements()},this.getTickFormat=function(){var t,e=this.y.max-this.y.min;return"value"===this.method?o.format(""):(t=e<.001?o.format(".2%"):e<.005?o.format(".1%"):o.format(".0%"),t)},this.createInfoBoxElements=function(){this.infobox=this.svg.append("g").attr("class","infobox"),this.infoboxBody=this.infobox.append("g").attr("class","infobox__body"),this.infoboxBody.append("rect").attr("class","background"),this.infoboxHead=this.infobox.append("g").attr("class","infobox__head"),this.infoboxHead.append("rect").attr("class","background"),this.infoboxTitle=this.infoboxHead.append("text"),this.infoboxContent=this.infoboxBody.append("g").attr("class","infobox__content"),this.infoboxHeading=this.infoboxContent.append("text").attr("class","infobox__heading"),this.infoboxContent.append("rect").attr("class","infobox__rule"),this.infoboxTable=this.infoboxContent.append("g").attr("class","infobox__table")},this.drawInfobox=function(){var t=this;if(-1!==this.highlight){var e=o.timeFormat("%Y"),a=this.data.data[this.highlight].values.filter(function(e,a){return a===t.series})[0],i=this.data.data[this.highlight].geography,r=this.data.data.reduce(function(t,e){return t.value>e.value?t:e}),n=this.data.data.reduce(function(t,e){return t.value<e.value?t:e});this.infobox.attr("transform","translate(".concat(this.padding.left+this.width,", ").concat(this.padding.top,")")).transition().attr("opacity",1),this.infoboxHead.select("rect.background").attr("height",30).attr("width",this.padding.right-22).attr("x",11).attr("fill",l.color.purple),this.infoboxTitle.attr("y",20).attr("x",21).attr("font-size",14).attr("font-weight",700).text(l.truncate(i,this.padding.right-55,14,700)).attr("fill",l.color.blue),this.infoboxBody.select("rect.background").attr("height",this.height-40).attr("y",20).attr("x",4).attr("width",this.padding.right-8).attr("fill",l.color.light_yellow).attr("stroke",l.color.purple),this.infoboxContent.attr("transform","translate(20, 60)"),this.infoboxHeading.attr("font-size",12).attr("font-weight",700).attr("text-transform","uppercase").attr("fill",l.color.purple).text(l.truncate("".concat(this.data.meta.series[this.series].heading," (").concat(this.data.meta.series[this.series].subheading,")"),this.padding.right-90,12,700).toUpperCase()),this.infoboxTable.selectAll("*").remove(),this.infoboxTable.append("text").attr("y",50).text("Utvikling"),this.infoboxTable.append("text").attr("y",75).text("Utvikling (p.p.)"),this.infoboxTable.append("text").attr("y",100).text("Høyest (".concat(e(this.parseDate(r.date)),")")),this.infoboxTable.append("text").attr("y",125).text("Lavest (".concat(e(this.parseDate(n.date)),")")),this.infoboxTable.append("text").attr("font-weight",700).attr("y",50).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round((a[a.length-1].value-a[0].value)/a[0].value*100)+"%"),this.infoboxTable.append("text").attr("font-weight",700).attr("y",75).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*(a[a.length-1].ratio-a[0].ratio))/100),this.infoboxTable.append("text").attr("font-weight",700).attr("y",100).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*r.ratio)/100+"%"),this.infoboxTable.append("text").attr("font-weight",700).attr("y",125).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*n.ratio)/100+"%")}else this.infobox.attr("opacity",0)},this.drawTabs=function(){var t=this;this.tabs.select("rect.rule").attr("height",1).attr("width",this.width+this.padding.left+this.padding.right).attr("fill",l.color.purple).attr("opacity",.2).attr("y",40);var e=this.tabs.selectAll("g.tab").data(this.data.meta.series),a=e.enter().append("g").attr("class","tab");a.append("rect").attr("class","bar").attr("height",4).attr("width",this.tabWidth).attr("y",37).attr("fill",l.color.blue),a.append("text").attr("class","heading").attr("font-size",16).attr("y",5),a.append("text").attr("class","subHeading").attr("font-size",12).attr("y",20),a.append("rect").attr("class","tabOverlay").attr("width",this.tabWidth).attr("height",60).attr("opacity",0).attr("y",-20),e.exit().remove(),e=e.merge(a),e.attr("transform",function(e,a){return"translate(".concat(a*(t.tabWidth+t.tabGap),", 0)")}),e.select("text.heading").attr("font-weight",function(e,a){return t.series===a?"500":"400"}).text(function(t){return t.heading}),e.select("text.subHeading").attr("font-weight",function(e,a){return t.series===a?"500":"400"}).text(function(t){return t.subheading}),e.select("rect.tabOverlay").on("click",function(e,a){t.render(t.data,t.method,a)}),e.select("rect.bar").attr("opacity",function(e,a){return t.series===a?1:0})},this.drawLabels=function(){var t=this,e=function(){return t.highlight>=0?t.data.data.filter(function(e,a){return a===t.highlight}):t.data.data.filter(function(t){return t.avgRow||t.totalRow})}(),a=this.canvas.selectAll("text.label").data(e),i=a.enter().append("text").attr("class","label");a.exit().remove(),a=a.merge(i),i.append("title"),a.text(function(e){return l.truncate(e.geography,t.padding.right-30)}).attr("x",this.width+5).attr("font-weight","bold").transition().attr("y",function(e){return t.y(e.values[t.series][e.values[t.series].length-1][t.method])+5}),a.selectAll("title").data(function(t){return[t.geography]}).enter().append("title").html(function(t){return t})},this.drawLines=function(){var t=this,e=this.strokeWidth,i=this.strokeWidthHighlight,r=this.canvas.selectAll("path.row").data(this.data.data),n=r.enter().append("path").attr("class","row");r.exit().remove(),r=r.merge(n),r.attr("stroke",function(e,a){return t.highlight>=0&&a===t.highlight?l.color.yellow:t.highlight>=0&&a!==t.highlight?l.color.grey:e.totalRow?l.color.blue:e.avgRow?l.color.red:l.color.grey}).attr("stroke-width",this.strokeWidth).attr("fill","none").transition().attr("d",function(e){return a(e.values[t.series])}),r.on("mouseover",function(){o.select(this).attr("stroke-width",i)}),r.on("mouseleave",function(){o.select(this).attr("stroke-width",e)}),r.on("click",function(e,a){a===t.highlight?t.render(t.data,t.method,t.series,-1):t.render(t.data,t.method,t.series,a)})},this.setScales=function(){var t=this;this.y.max=1.05*o.max(this.data.data.map(function(e){return o.max(e.values[t.series].map(function(e){return e[t.method]}))})),this.y.min=o.min(this.data.data.map(function(e){return o.min(e.values[t.series].map(function(e){return e[t.method]}))}))/1.05,this.x=o.scaleTime().domain([this.parseDate(this.data.data[0].values[0][0].date),this.parseDate(this.data.data[0].values[this.series][this.data.data[0].values[this.series].length-1].date)]).range([0,this.width]),this.y=o.scaleLinear().domain([this.y.min,this.y.max]).range([this.height,0])},this.drawAxis=function(){var t=this.getTickFormat();this.yAxis.transition().call(o.axisLeft(this.y).tickFormat(t)),this.xAxis.attr("transform","translate(0, ".concat(this.height,")")).transition().call(o.axisBottom(this.x))},this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ratio",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.highlight=i,this.data=t,this.series=a,this.heading.attr("y",90).text(this.data.meta.heading[this.series]),this.method=e,this.svg.attr("height",this.height+this.padding.top+this.padding.bottom).attr("width",this.padding.left+this.width+this.padding.right),this.setScales(),this.drawAxis(),this.drawLines(),this.drawTabs(),this.drawLabels(),this.drawInfobox()},this.init(t)}var f=g;function m(t){var e=this;h.apply(this,arguments),this.padding={top:50,right:20,bottom:1,left:0},this.height=0,this.height2=100,this.width=1e3,this.paddingUpperLeft=160,this.paddingLowerLeft=300,this.yGutter=130,this.y=o.scaleLinear(),this.handle;var a,i,r=[0,119],n=o.formatDefaultLocale({decimal:",",thousands:" ",grouping:[3],currency:["","NOK"]}),s=n.format(".1%"),c=n.format(",.0f");this.age=o.scaleLinear().range([0,this.width-this.paddingUpperLeft]).domain(r);var d=function(t){var e=o.event.selection||t.age.range();r=e.map(function(e){return Math.round(t.age.invert(e))}),null===o.event.selection&&(a.transition().call(u.move,t.age.range()),i.transition().call(p.move,t.age.range())),o.selectAll("rect.selection").attr("x",e[0]).attr("opacity",1).attr("width",e[1]-e[0]),o.selectAll(".handle--e").attr("width",21).attr("x",e[1]),o.selectAll(".handle--w").attr("width",21).attr("x",e[0]-21),t.handle.attr("transform",function(t){return"e"===t.type?"translate(".concat(e[1],", -9)"):"translate(".concat(e[0]-21,", -9)")}),t.data&&t.data.meta&&t.render(t.data,t.method)};this.line=o.line().curve(o.curveBasis).x(function(t,a){return e.age(a)}).y(function(t){return e.y(t[e.method])});var p=o.brushX().extent([[0,0],[this.width-this.paddingUpperLeft,this.height2]]).on("brush end",function(){d(e)}),u=o.brushX().extent([[0,0],[this.width-this.paddingUpperLeft,19]]).on("brush end",function(){d(e)});this.drawHandles=function(){this.handle=a.selectAll("path.handle").data([{type:"w"},{type:"e"}]).enter().append("g").attr("class","handleIcon").attr("transform","translate(0, -9)"),this.handle.append("path").attr("fill",l.color.purple).style("pointer-events","none").attr("d",function(t){return"e"===t.type?"M0 0h11c6 0 10 4 10 10v17c0 6-4 10-10 10H0V0z":"M21 0H10C4 0 0 4 0 10v17c0 6 4 10 10 10h11V0z"}),this.handle.append("rect").style("pointer-events","none").attr("height",11).attr("width",1).attr("x",6).attr("y",13).attr("fill","white").attr("fill-opacity","0.75"),this.handle.append("rect").style("pointer-events","none").attr("height",11).attr("width",1).attr("x",10).attr("y",13).attr("fill","white").attr("fill-opacity","0.75"),this.handle.append("rect").style("pointer-events","none").attr("height",11).attr("width",1).attr("x",14).attr("y",13).attr("fill","white").attr("fill-opacity","0.75")},this.created=function(){this.upper=this.canvas.append("g").attr("class","upper"),this.middle=this.canvas.append("g").attr("class","middle").attr("transform","translate(0, ".concat(this.height2+40,")")),this.lower=this.canvas.append("g").attr("class","lower").attr("transform","translate(0, ".concat(this.height2+this.yGutter,")")),this.lower.append("text").attr("class","xAxis-title").attr("font-size",12).attr("font-weight",700).attr("text-anchor","middle").attr("fill",l.color.purple).attr("transform","translate(".concat(this.paddingLowerLeft+(this.width-this.paddingLowerLeft)/2,", ").concat(-28,")")),i=this.upper.append("g").attr("class","brush").attr("transform","translate(".concat(this.paddingUpperLeft,", 0)")).call(p),i.select(".selection").attr("fill",l.color.yellow).attr("stroke",l.color.yellow).attr("stroke-width",2).attr("stroke-opacity",1).attr("fill-opacity",.15),a=this.middle.append("g").attr("class","brush").attr("transform","translate(".concat(this.paddingUpperLeft,", 0)")).call(u),a.select(".selection").attr("fill",l.color.yellow).attr("fill-opacity",1),a.select(".overlay").attr("stroke",l.color.purple).attr("rx",6),this.upperXAxis=this.upper.append("g").attr("class","axis x").attr("transform","translate(".concat(this.paddingUpperLeft,", ").concat(this.height2,")")),this.upperYAxis=this.upper.append("g").attr("class","axis y").attr("transform","translate(".concat(this.paddingUpperLeft,", 0)")),this.lowerXAxis=this.lower.append("g").attr("class","axis x").attr("transform","translate(".concat(this.paddingLowerLeft,", 0)")),this.drawHandles(),i.transition().call(p.move,[0,50].map(this.age)),a.transition().call(u.move,[0,50].map(this.age))},this.drawRows=function(){var t=this,e=this.lower.selectAll("g.row").data(this.data.data),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),a.append("rect").attr("class","rowFill").attr("fill",l.color.purple).attr("height",this.rowHeight).attr("width",this.width),a.append("text").attr("class","geography").attr("fill",l.color.purple).attr("x",10).attr("y",this.rowHeight/2+7),a.append("text").attr("class","value").attr("y",this.rowHeight/2+7).attr("fill",l.color.purple).attr("x",this.paddingLowerLeft-40).attr("text-anchor","end"),a.append("rect").attr("class","bar").attr("height",this.barHeight),a.append("rect").attr("class","divider").attr("fill",l.color.purple).attr("width",this.width).attr("height",1).attr("y",this.rowHeight),e.select("rect.rowFill").attr("width",this.width),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.05:0}),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(t){return t.geography}),e.select("text.value").text(function(e){var a=o.sum(e.values.filter(function(t,e){return e>=r[0]&&e<=r[1]}).map(function(e){return e[t.method]}));return"ratio"==t.method?s(a):c(a)}),e.select("rect.bar").transition().attr("width",function(e){return"value"==t.method&&(e.avgRow||e.totalRow)?0:t.x(o.sum(e.values.filter(function(t,e){return e>=r[0]&&e<=r[1]}).map(function(e){return e[t.method]})))}).attr("x",this.paddingLowerLeft).attr("y",(this.rowHeight-this.barHeight)/2+1).attr("fill",function(t){return t.totalRow||t.avgRow?l.color.purple:l.color.blue}),this.lower.select("text.xAxis-title").text(function(){return"ratio"===t.method&&r[1]-r[0]>=1?"Andel av befolkningen mellom ".concat(r[0]," og ").concat(r[1]," år"):"ratio"===t.method&&r[1]-r[0]===0?"Andel av befolkningen som er ".concat(r[0]," år"):"ratio"!==t.method&&r[1]-r[0]>=1?"Størrelse av befolkningen mellom ".concat(r[0]," og ").concat(r[1]," år"):"ratio"!==t.method&&r[1]-r[0]===0?"Størrelse av befolkningen på ".concat(r[0]," år"):void 0})},this.drawLines=function(){var t=this,e=this.upper.selectAll("path.line").data(this.data.data.filter(function(e){return"ratio"==t.method?e:!e.avgRow&&!e.totalRow})),a=e.enter().append("path").attr("class","line").attr("fill","none").attr("transform","translate(".concat(this.paddingUpperLeft,", 0)")).attr("opacity",0);e.exit().transition().attr("opacity",0).remove(),e=e.merge(a),e.transition().attr("opacity",1).attr("d",function(e){return t.line(e.values)}).attr("stroke-width",function(t){return t.avgRow||t.totalRow?3:2}).attr("stroke",function(t){return t.avgRow||t.totalRow?l.color.purple:l.color.blue}).attr("stroke-opacity",function(t){return t.avgRow||t.totalRow?1:.5})},this.render=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ratio",h=arguments.length>2?arguments[2]:void 0;if(t){t.data=t.data.sort(function(t,e){return t.totalRow-e.totalRow}),this.data=t,h&&(r=JSON.parse(h),i.transition().call(p.move,r.map(this.age)),a.transition().call(u.move,r.map(this.age))),this.height=this.rowHeight*t.data.length,this.svg.attr("height",this.padding.top+this.height2+this.yGutter+this.height+this.padding.bottom).attr("width",this.padding.left+this.width+this.padding.right),this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.method=n,this.heading.text(t.meta.heading);var l=1.05*o.max(t.data.filter(function(t){return"ratio"==e.method?t:!t.totalRow&&!t.avgRow}).map(function(t){return o.sum(t.values.filter(function(t,e){return e>=r[0]&&e<=r[1]}).map(function(t){return t[e.method]}))})),d=1.05*o.max(t.data.filter(function(t){return"ratio"==e.method?t:!t.totalRow&&!t.avgRow}).map(function(t){return o.max(t.values.map(function(t){return t[e.method]}))}));this.y.domain([0,d]).range([this.height2,0]),this.x.domain([0,l]).range([0,this.width-this.paddingLowerLeft]),this.upperYAxis.transition().call(o.axisLeft(this.y).ticks(4).tickFormat(function(t){return"ratio"==e.method?s(t):c(t)})),this.upperXAxis.transition().call(o.axisBottom(this.age).tickFormat(function(t){return t+" år"})),this.lowerXAxis.transition().call(o.axisTop(this.x).tickFormat(function(t){return"ratio"==e.method?s(t):c(t)})),this.drawRows(),this.drawLines()}},this.init(t),this.resize=function(){this.width=this.parentWidth()-this.padding.left-this.padding.right,this.age.range([0,this.width-this.paddingUpperLeft]),p.extent([[0,0],[this.width-this.paddingUpperLeft,this.height2]]),u.extent([[0,0],[this.width-this.paddingUpperLeft,19]]),i.call(p),a.call(u),this.render(this.data,this.method)}}var x=m;function b(t){var e=this;h.apply(this,arguments),this.padding.top=70,this.padding.bottom=50,this.padding.left=300,this.padding.right=55,this.height=400,this.width=650,this.y=o.scaleLinear(),this.x=o.scaleLinear(),this.selected=null,this.list,this.pyramid,this.gutter=100,this.yAxis=[],this.drawList=function(){var t=this,e=this.selected,a=this.list.selectAll("g.row").data(this.data.data),i=a.enter().append("g").attr("class","row");a.exit().remove(),a=a.merge(i),i.append("rect").attr("class","fill").attr("width",this.padding.left-this.gutter).attr("height",this.rowHeight).attr("fill",l.color.blue).style("cursor","pointer").attr("rx",3),i.append("text").attr("class","label"),a.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),a.select("rect.fill").attr("fill-opacity",function(e,a){return a==t.selected?1:0}).on("click",function(e,a){t.render(t.data,a)}).on("mouseenter",function(t,a){a!=e&&o.select(this).attr("fill-opacity",.15)}).on("mouseleave",function(t,a){a!=e&&o.select(this).attr("fill-opacity",0)}),a.select("text.label").text(function(t){return t.geography}).attr("y",this.rowHeight/2+5).attr("x",10).attr("font-weight",function(t){return t.totalRow||t.avgRow?700:400}).attr("fill",l.color.purple).style("pointer-events","none")},this.created=function(){this.list=this.svg.append("g").attr("class","list").attr("transform","translate(0, ".concat(this.padding.top,")")),this.list.append("text").text("Velg delbydel").attr("font-size",12).style("text-transform","uppercase").attr("font-weight",700).attr("fill",l.color.purple).attr("transform","translate(10, -16)"),this.canvas.selectAll("*").remove(),this.pyramid=this.canvas.append("g").attr("class","pyramid"),this.y.range([this.height,0]).domain([0,120]),this.yAxis=this.canvas.selectAll("g.axis.y").data([{type:"left"},{type:"right"},{type:"lines"}]).enter().append("g"),this.xAxis=this.canvas.append("g").attr("class","axis x").attr("transform","translate(0, ".concat(this.height,")")),this.yAxis.attr("class",function(t){return"axis y axis-".concat(t.type)}),this.canvas.append("g").attr("class","yAxis-title").attr("transform","translate(-50, ".concat(this.height/2,")")).append("text").attr("font-size",12).attr("font-weight",700).attr("fill",l.color.purple).text("Alder").attr("text-anchor","middle").attr("transform","rotate(-90)"),this.canvas.append("text").attr("class","xAxis-title").attr("font-size",12).attr("font-weight",700).attr("fill",l.color.purple).attr("text-anchor","middle").attr("transform","translate(".concat(this.width/2,", ").concat(this.height+36,")")).text("Folkemengde")},this.area=o.area().curve(o.curveStep).x0(function(){return e.x(0)}).x1(function(t){return"Kvinne"==t.gender?e.x(t.value):e.x(-t.value)}).y(function(t,a){return e.y(a)}),this.drawPyramid=function(){var t=this,e=["Mann","Kvinne"].map(function(e){return t.data.data[t.selected].values.map(function(t){return{gender:e,value:t[e]}})}),a=this.pyramid.selectAll("g.gender").data(e),i=a.enter().append("g").attr("class","gender");a.exit().remove(),a=a.merge(i);var r=i.append("text").datum(function(t){return t});i.append("path").datum(function(t){return t});r.text(function(t){return t[0].gender}).attr("text-anchor",function(t,e){return 0===e?"end":"start"}).attr("font-size",16).attr("font-weight",700).attr("fill",l.color.purple).attr("transform","translate(".concat(this.width/2,", 23)")).attr("x",function(t,e){return 0===e?-20:20}),a.select("path").attr("fill",function(t){return"Kvinne"==t[0].gender?l.color.red:l.color.positive}).transition().attr("d",this.area)},this.drawAxis=function(){var t=this,e=o.max(this.data.data[this.selected].values.map(function(t){return t.value}));this.x.range([0,this.width]).domain([-e,e]),this.xAxis.transition().call(o.axisBottom(this.x).tickFormat(function(t){return Math.abs(t)})),this.yAxis.each(function(e,a,i){if("left"==e.type)o.select(i[a]).call(o.axisLeft(t.y).tickFormat(function(t){return t+" år"})).selectAll("text");else if("right"==e.type)o.select(i[a]).call(o.axisRight(t.y).tickFormat(function(t){return t+" år"})).attr("transform","translate(".concat(t.width,", 0)")).selectAll("text");else if("lines"==e.type){var r=o.select(i[a]);r.call(o.axisLeft(t.y).tickSize(-t.width)),r.selectAll("text").remove(),r.selectAll(".tick").attr("opacity",.15),r.selectAll(".domain").remove()}})},this.render=function(t,e){t&&(t.data=t.data.sort(function(t,e){return t.totalRow-e.totalRow}),this.data=t,this.selected=null==e||-1==e?this.data.data.findIndex(function(t){return t.avgRow||t.totalRow}):e,this.heading.text(t.meta.heading),this.drawAxis(),this.drawPyramid(),this.drawList(),this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")))},this.init(t)}var v=b;function y(t){h.apply(this,arguments),this.padding={top:90,left:240,right:20,bottom:1},this.height=0,this.width1=310,this.width2=310,this.gapX=80,this.width=this.width1+this.width2+this.gapX,this.x=o.scaleLinear(),this.x2=o.scaleLinear(),this.created=function(){this.canvas.append("text").attr("class","label-median").attr("font-size",13).attr("y",-40).attr("x",this.width1+this.gapX+this.width2/2).attr("text-anchor","middle").text("Aldersfordeling og medianalder"),this.canvas.append("text").attr("class","label-mean").attr("font-size",13).attr("y",-40).attr("x",0).attr("x",this.width1/2).attr("text-anchor","middle").text("Gjennomsnittsalder")},this.initRowElements=function(t){t.append("rect").attr("class","rowFill").attr("fill",l.color.purple).attr("height",this.rowHeight).attr("x",-this.padding.left).attr("width",this.width+this.padding.left),t.append("rect").attr("class","divider").attr("fill",l.color.purple).attr("x",-this.padding.left).attr("width",this.width+this.padding.left).attr("height",1).attr("y",this.rowHeight),t.append("text").attr("class","geography").attr("fill",l.color.purple).attr("y",this.rowHeight/2+6).attr("x",10-this.padding.left),t.append("rect").attr("class","box").attr("fill",l.color.purple).attr("stroke",l.color.purple).attr("stroke-width",1).attr("fill-opacity",.2).attr("rx",2).attr("shape-rendering","geometricPrecision").attr("height",this.barHeight).attr("y",(this.rowHeight-this.barHeight)/2),t.append("text").attr("class","median-value").attr("text-anchor","start").attr("font-size",12).attr("font-weight",700).attr("y",this.rowHeight/2+5),t.append("rect").attr("class","median-stroke").attr("fill",l.color.purple).attr("height",this.rowHeight).attr("width",3).attr("shape-rendering","geometricPrecision").attr("transform","translate(-1.5, 0)").attr("y",0),t.append("text").attr("class","mean-value").attr("text-anchor","start").attr("font-size",12).attr("font-weight",700).attr("y",this.rowHeight/2+5),t.append("rect").attr("class","mean-stroke").attr("fill",l.color.purple).attr("height",this.rowHeight).attr("width",3).attr("shape-rendering","geometricPrecision").attr("transform","translate(-1.5, 0)").attr("y",0)},this.drawRows=function(){var t=this,e=this.canvas.selectAll("g.row").data(this.data.data),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),this.initRowElements(a),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.05:0}),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(e){return l.truncate(e.geography,t.padding.left)}),e.select("text.median-value").text(function(t,e){return t.median}).attr("x",function(e,a){return t.gapX+t.width1+t.x2(e.median)+6}),e.select("text.mean-value").text(function(t,e){return t.mean}).attr("x",function(e,a){return t.x(e.mean)+6}),e.select("rect.mean-stroke").attr("x",function(e,a){return t.x(e.mean)}),e.select("rect.median-stroke").attr("x",function(e,a){return t.gapX+t.width1+t.x2(e.median)}),e.select("rect.box").attr("x",function(e,a){return t.gapX+t.width1+t.x2(e.low)}).attr("width",function(e,a){return t.x2(e.high)-t.x2(e.low)})},this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ratio";void 0!==t&&(t.data=t.data.sort(function(t,e){return t.avgRow-e.avgRow}),t.data=t.data.sort(function(t,e){return t.totalRow-e.totalRow}),this.data=t,t.data=t.data.map(function(t){var e=[];return t.values.forEach(function(t,a){for(var i=0;i<t.value;i++)e.push(a)}),t.low=o.quantile(e,.25),t.median=o.quantile(e,.5),t.high=o.quantile(e,.75),t.mean=Math.round(100*o.mean(e))/100,t}),this.data=t,this.method=e,this.heading.text(this.data.meta.heading),this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.height=this.rowHeight*this.data.data.length,this.svg.attr("height",this.padding.top+this.height+this.padding.bottom).attr("width",this.width+this.padding.left+this.padding.right),this.x2.range([0,this.width2]).domain([0,70]),this.x2Axis.call(o.axisTop(this.x2).tickFormat(function(t){return"".concat(t," år")}).ticks(this.width2/45)).attr("transform","translate(".concat(this.width1+this.gapX,")")),this.x.range([0,this.width1]).domain([o.min(this.data.data.map(function(t){return t.mean}))/1.05,1.05*o.max(this.data.data.map(function(t){return t.mean}))]),this.xAxis.call(o.axisTop(this.x).tickFormat(function(t){return"".concat(t," år")}).ticks(this.width2/45)),this.drawRows())},this.init(t)}var w=y;function k(t){h.apply(this,arguments),this.padding={top:90,left:0,right:20,bottom:1},this.paddingLeft=180,this.height=0,this.width=850,this.y=o.scaleLinear(),this.x=o.scaleBand(),this.created=function(){},this.initRowElements=function(t){t.append("rect").attr("class","rowFill").attr("fill",l.color.purple).attr("height",this.rowHeight).attr("width",this.width),t.append("rect").attr("class","divider").attr("fill",l.color.purple).attr("width",this.width).attr("height",1).attr("y",this.rowHeight),t.append("text").attr("class","geography").attr("fill",l.color.purple).attr("y",this.rowHeight/2+6).attr("x",10),t.append("text").attr("class","population__value").attr("text-anchor","end").attr("y",this.rowHeight/2+6),t.append("rect").attr("class","population__bar").attr("fill",l.color.purple).attr("height",this.barHeight).attr("y",(this.rowHeight-this.barHeight)/2),t.append("text").attr("class","density__value").attr("text-anchor","end").attr("y",this.rowHeight/2+6),t.append("rect").attr("class","density__bar").attr("fill",l.color.purple).attr("height",this.barHeight).attr("y",(this.rowHeight-this.barHeight)/2),t.append("text").attr("class","progress-year__value").attr("text-anchor","end").attr("y",this.rowHeight/2+6),t.append("g").attr("class","progress-year__arrow").append("path"),t.append("rect").attr("class","progress-year__bar").attr("height",this.barHeight).attr("y",(this.rowHeight-this.barHeight)/2),t.append("text").attr("class","progress-period__value").attr("text-anchor","end").attr("y",this.rowHeight/2+6),t.append("g").attr("class","progress-period__arrow").append("path"),t.append("path").attr("class","progress-year__line").attr("fill","none").attr("stroke",l.color.purple).attr("stroke-width",2)},this.renderPopulation=function(t){var e=o.scaleLinear().range([0,this.x.bandwidth()/2]).domain([0,o.max(this.data.data.map(function(t){return t.values[0]}))]);t.select("text.population__value").attr("font-weight",function(t){return t.avgRow||t.totalRow?500:400}).text(function(t){return t.values[0]}).attr("x",this.x(0)+this.x.bandwidth()/2-8),t.filter(function(t){return!t.avgRow&&!t.totalRow}).select("rect.population__bar").attr("x",this.x(0)+this.x.bandwidth()/2).attr("width",function(t){return e(t.values[0])})},this.renderDensity=function(t){var e=o.scaleLinear().range([0,this.x.bandwidth()/2]).domain([0,o.max(this.data.data.map(function(t){return t.values[1]}))]);t.select("text.density__value").attr("font-weight",function(t){return t.avgRow||t.totalRow?500:400}).attr("x",this.x(1)+this.x.bandwidth()/2-8).text(function(t){return t.values[1]}),t.select("rect.density__bar").attr("x",this.x(1)+this.x.bandwidth()/2).attr("width",function(t){return e(t.values[1])})},this.renderProgressYear=function(t){var e=o.scaleLinear().range([0,this.x.bandwidth()/2]).domain([0,o.max(this.data.data.map(function(t){return Math.abs(t.values[2])}))]);t.select("text.progress-year__value").attr("font-weight",function(t){return t.avgRow||t.totalRow?500:400}).attr("x",this.x(2)+this.x.bandwidth()/2-30).text(function(t){return t.values[2]}),t.filter(function(t){return!t.avgRow&&!t.totalRow}).select("rect.progress-year__bar").attr("fill",function(t){return t.values[2]>0?l.color.positive:l.color.red}).attr("x",this.x(2)+this.x.bandwidth()/2).attr("width",function(t){return e(Math.abs(t.values[2]))}),t.select("g.progress-year__arrow path").attr("fill",function(t){return t.values[2]>0?l.color.positive:l.color.red}).attr("transform","translate(".concat(this.x(2)+this.x.bandwidth()/2-22,", ").concat((this.rowHeight-this.barHeight)/2+4,")")).attr("d",function(t){return t.values[2]>0?"M1 2V1 0h12v12l-1 1h-1v-1h-1V5l-8 8H1l-1-1v-1l8-8H1V2z":"M11 1h2v12H1v-2l1-1h6L0 2V1l1-1h1l8 8V2l1-1z"})},this.renderProgressPeriod=function(t){var e=o.min(this.data.data.map(function(t){return o.min(t.values[3])})),a=o.max(this.data.data.map(function(t){return o.max(t.values[3])})),i=o.scaleLinear().range([0,this.x.bandwidth()/2]).domain([0,this.data.data[0].values[3].length]),r=o.scaleLinear().range([this.rowHeight,0]).domain([e,a]),n=o.line().x(function(t,e){return i(e)}).y(function(t){return r(t)});t.select("text.progress-period__value").attr("x",this.x(3)+this.x.bandwidth()/2-30).attr("font-weight",function(t){return t.avgRow||t.totalRow?500:400}).text(function(t){return t.values[3][t.values[3].length-1]-t.values[3][0]}),t.select("g.progress-period__arrow path").attr("fill",function(t){return t.values[2]>0?l.color.positive:l.color.red}).attr("transform","translate(".concat(this.x(3)+this.x.bandwidth()/2-22,", ").concat((this.rowHeight-this.barHeight)/2+4,")")).attr("d",function(t){return t.values[3][t.values[3].length-1]-t.values[3][0]>0?"M1 2V1 0h12v12l-1 1h-1v-1h-1V5l-8 8H1l-1-1v-1l8-8H1V2z":"M11 1h2v12H1v-2l1-1h6L0 2V1l1-1h1l8 8V2l1-1z"}),t.select("path.progress-year__line").attr("d",function(t){return n(t.values[3])}).attr("transform","translate(".concat(this.x(3)+this.x.bandwidth()/2,", 0)"))},this.drawRows=function(){var t=this,e=this.canvas.selectAll("g.row").data(this.data.data.sort(function(t,e){return t.avgRow-e.avgRow})),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),this.initRowElements(a),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.05:0}),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(e){return l.truncate(e.geography,t.paddingLeft)}),this.renderPopulation(e),this.renderDensity(e),this.renderProgressYear(e),this.renderProgressPeriod(e)},this.drawColumnHeaders=function(){var t=this,e=this.canvas.selectAll("g.column").data(this.data.meta.series),a=e.enter().append("g").attr("class","column");e.exit().remove(),e=e.merge(a),a.append("text").attr("class","heading").attr("font-size",14).attr("font-weight",400).attr("text-anchor","middle"),a.append("text").attr("class","subHeading").attr("font-size",12.5).attr("font-weight",400).attr("text-anchor","middle").attr("y",16),e.attr("transform",function(e,a){return"translate(".concat(t.x(a)+t.x.bandwidth()/2,", -30)")}),e.select("text.heading").text(function(t){return t.heading?t.heading:""}),e.select("text.subHeading").text(function(t){return t.subheading?t.subheading:""})},this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ratio";arguments.length>2&&arguments[2];void 0!==t&&(t.data=t.data.sort(function(t,e){return t.avgRow-e.avgRow}),t.data=t.data.sort(function(t,e){return t.totalRow-e.totalRow}),this.data=t,this.method=e,this.heading.text(this.data.meta.heading),this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.height=this.rowHeight*this.data.data.length,this.svg.attr("height",this.padding.top+this.height+this.padding.bottom),this.x.domain(this.data.meta.series.map(function(t,e){return e})).range([this.paddingLeft,this.width]),this.drawRows(),this.drawColumnHeaders())},this.init(t)}var _=k;function A(t){var e=this;h.apply(this,arguments),this.padding={top:40,left:80,right:20,bottom:20},this.height1=400,this.gapX=50,this.gapY=70,this.height2=80,this.height=this.height1+this.gapY+this.height2,this.width1=750,this.sidebarWidth=250,this.width=this.width1+this.gapX+this.sidebarWidth,this.x=o.scaleTime(),this.y=o.scaleLinear(),this.y2=o.scaleLinear(),this.barWidth,this.sidebar,this.upper,this.lower,this.triggersContainer,this.selected,this.line=o.line().x(function(t){return e.x(e.parseDate(t.date))}).y(function(t){return e.y(t.population)}),this.createSidebarElements=function(){this.sidebar=this.svg.append("g").attr("class","sidebar");var t=this.sidebar.append("g").attr("class","section-year");t.append("rect").attr("class","section-year__bg").attr("width",88).attr("rx",4).attr("height",40).attr("fill",l.color.purple),t.append("text").attr("class","section-year__text").attr("fill","white").attr("y",30).attr("font-size",26).attr("font-weight",700).attr("text-anchor","middle").attr("x",44);var e=this.sidebar.append("g").attr("class","section-population").attr("transform","translate(0, 70)");e.append("rect").attr("class","divider"),e.append("text").attr("class","label").text("Befolkning"),e.append("text").attr("class","value");var a=this.sidebar.append("g").attr("class","section-change").attr("transform","translate(0, 140)");a.append("rect").attr("class","divider"),a.append("text").attr("class","label").text("Befolkningsvekst"),a.append("text").attr("class","value"),a.append("rect").attr("class","bar"),this.sidebar.selectAll("rect.divider").attr("height",2).attr("width",this.sidebarWidth).attr("fill",l.color.purple),this.sidebar.selectAll("text.value").attr("font-size",16).attr("y",26).attr("font-weight","700").attr("fill",l.color.purple).attr("text-anchor","end").attr("x",this.sidebarWidth).text("70"),this.sidebar.selectAll("text.label").attr("font-size",16).attr("font-weight","400").attr("y",26).attr("fill",l.color.purple)},this.createUpperElements=function(){this.upper=this.svg.append("g").attr("class","upper"),this.xAxis=this.upper.append("g").attr("class","axis x"),this.yAxis=this.upper.append("g").attr("class","axis y"),this.upper.append("path").attr("class","projection").attr("fill",l.color.blue),this.upper.append("path").attr("class","expected").attr("fill","none").attr("stroke",l.color.purple),this.upper.append("path").attr("class","valueLine").attr("fill","none").attr("stroke",l.color.purple).attr("stroke-width",3),this.upper.append("line").attr("class","currentDate").attr("stroke",l.color.purple).attr("opacity",.7).attr("stroke-width",1).style("stroke-dasharray","3,3"),this.upper.append("text").attr("class","populationTooltip").attr("font-size",12).attr("text-anchor","end").attr("transform","translate(-10, -3)"),this.upper.append("line").attr("class","highlightLine").attr("stroke-width",5).attr("stroke-opacity",.1).attr("stroke",l.color.yellow),this.upper.append("line").attr("class","highlightLine").attr("stroke-width",2).attr("stroke",l.color.yellow);var t=this.upper.append("g").attr("class","highlightContainer");t.append("rect").attr("class","highlightDateBox").attr("fill",l.color.yellow).attr("height",26).attr("width",48).attr("transform","translate(-24, 0)"),t.append("text").attr("class","highlightText").attr("fill",l.color.purple).attr("font-size",12).attr("font-weight",700).attr("y",18).attr("text-anchor","middle")},this.createLowerElements=function(){this.lower=this.svg.append("g").attr("class","lower"),this.lower.append("g").attr("class","bars"),this.lower.append("line").attr("class","zeroline").attr("stroke-width",1).attr("stroke",l.color.purple),this.y2Axis=this.lower.append("g").attr("class","axis y"),this.lower.append("text").attr("class","sectionHeading").attr("fill",l.color.purple).attr("font-weight",500).text("Befolkningsendring per år")},this.drawSidebar=function(){this.sidebar.attr("transform","translate(".concat(this.padding.left+this.width1+this.gapX,", ").concat(this.padding.top,")")),this.sidebar.select("text.section-year__text").text(this.formatYear(this.parseDate(this.selected.date))),this.sidebar.select("g.section-population text.value").text(this.selected.population),this.sidebar.select("g.section-change text.value").text(this.selected.change)},this.drawUpper=function(){var t=this;this.upper.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.xAxis.attr("transform","translate(0, ".concat(this.height1,")")),this.upper.select("text.highlightText").text(this.formatYear(this.parseDate(this.highlight))),this.upper.select("g.highlightContainer").attr("transform","translate(".concat(this.x(this.parseDate(this.highlight)),", ").concat(this.height1,")")),this.upper.select("text.populationTooltip").text(this.selected.population).attr("y",this.y(this.selected.population)).attr("x",this.x(this.parseDate(this.selected.date))),this.upper.selectAll("line.highlightLine").attr("x1",this.x(this.parseDate(this.highlight))).attr("x2",this.x(this.parseDate(this.highlight))).attr("y1",0).attr("y2",this.height1),this.upper.select("line.currentDate").attr("x1",this.x(new Date)).attr("x2",this.x(new Date)).attr("y1",0).attr("y2",this.height1),this.upper.select("path.valueLine").datum(this.data.data).attr("d",function(e){return t.line(e.actual)}),this.drawProjection()},this.drawLower=function(){var t=this;this.barWidth=this.x(this.parseDate("2018-01-01"))-this.x(this.parseDate("2017-01-01"))-1,this.lower.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top+this.height1+this.gapY,")")),this.lower.select("line.zeroline").attr("x1",0).attr("x2",this.width1).attr("y1",this.y2(0)).attr("y2",this.y2(0));var e=this.lower.select("g.bars").selectAll("rect.bar").data(this.data.data.actual),a=e.enter().append("rect").attr("class","bar");e.exit().remove(),e=e.merge(a),e.attr("width",this.barWidth).attr("x",function(e){return t.x(t.parseDate(e.date))-t.barWidth/2}).attr("height",function(e){return Math.abs(t.y2(0)-t.y2(e.change))}).attr("y",function(e){return e.change>0?t.y2(e.change):t.y2(0)}).attr("fill",function(e){return e.date===t.highlight?l.color.purple:e.change>0?l.color.blue:l.color.red}),this.lower.select("text.sectionHeading").attr("y",-5).attr("x",20)},this.drawProjection=function(){var t=this.data.data.actual[this.data.data.actual.length-1],e={x:this.x(this.parseDate(t.date)),y:this.y(t.population)},a={x:this.x(this.parseDate(this.data.data.projection.date)),y:this.y(this.data.data.projection.low)},i={x:this.x(this.parseDate(this.data.data.projection.date)),y:this.y(this.data.data.projection.expected)},r={x:this.x(this.parseDate(this.data.data.projection.date)),y:this.y(this.data.data.projection.high)},n="M".concat(e.x,",").concat(e.y," L").concat(a.x,",").concat(a.y," L").concat(r.x,",").concat(r.y,"z"),s="M".concat(e.x,",").concat(e.y," L").concat(i.x,",").concat(i.y);this.upper.select("path.projection").attr("d",n),this.upper.select("path.expected").attr("d",s)},this.drawTriggers=function(){var t=this;this.triggersContainer.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")"));var e=this.triggersContainer.selectAll("rect").data(this.data.data.actual),a=e.enter().append("rect");e.exit().remove(),e=e.merge(a),e.attr("width",this.barWidth+1).attr("height",this.height1+this.gapY+this.height2).attr("x",function(e){return t.x(t.parseDate(e.date))-t.barWidth/2}).style("cursor","pointer").on("mouseover",function(e){t.render(t.data,e.date)}).on("click",function(e){t.render(t.data,e.date)}).on("mouseover",function(){o.select(this).attr("fill-opacity",.03)}).on("mouseleave",function(){o.select(this).transition().duration(40).attr("fill-opacity",0)}).transition().duration(1e3).attr("fill-opacity",0)},this.resetScales=function(){var t=this,e=o.extent(this.data.data.actual.concat(this.data.data.projection).map(function(e){return t.parseDate(e.date)}));e[0]=o.timeYear.offset(e[0],-2);var a=o.min(this.data.data.actual.concat(this.data.data.projection).map(function(t){return t.population||t.low}))/1.5,i=1.15*o.max(this.data.data.actual.concat(this.data.data.projection).map(function(t){return t.population||t.high}));this.y2.range([this.height2,0]).domain(o.extent(this.data.data.actual.map(function(t){return t.change}).map(function(t,e){return 1==e?1.3*t:t}))),this.x.range([0,this.width1]).domain(e),this.y.range([this.height1,0]).domain([a,i]),this.xAxis.call(o.axisBottom(this.x)),this.yAxis.call(o.axisLeft(this.y).ticks(this.height1/50)),this.y2Axis.call(o.axisLeft(this.y2).ticks(this.height2/40))},this.created=function(){this.canvas.selectAll("*").remove(),this.canvas.remove(),this.createSidebarElements(),this.createUpperElements(),this.createLowerElements(),this.triggersContainer=this.svg.append("g").attr("class","triggers")},this.render=function(t,e){var a=this;void 0!==t&&(this.data=t,this.highlight=e||this.data.data.actual[this.data.data.actual.length-1].date,this.selected=this.data.data.actual.filter(function(t){return t.date===a.highlight})[0],this.heading.text(this.data.meta.heading),this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.svg.attr("height",this.padding.top+this.height+this.padding.bottom).attr("width",this.padding.left+this.width+this.padding.right),this.resetScales(),this.drawSidebar(),this.drawUpper(),this.drawLower(),this.drawTriggers())},this.init(t)}var L=A;function H(t){h.apply(this,arguments),this.padding.top=70,this.padding.bottom=70,this.padding.left=400,this.padding.right=105,this.width=400,this.height=Math.sqrt(this.width*this.width-this.width/2*(this.width/2)),this.y=o.scaleLinear(),this.x=o.scaleLinear(),this.selected=null,this.list,this.matrix,this.gutter=200,this.yAxis=[],this.max=0,this.dotContainer,this.lineContainer;var e=.3,a=.8;this.drawList=function(){var t=this,i=this.selected,r=this.dotContainer.selectAll("g"),n=this.list.selectAll("g.row").data(this.data.data),s=n.enter().append("g").attr("class","row");n.exit().remove(),n=n.merge(s),s.append("rect").attr("class","fill").attr("width",this.padding.left-this.gutter).attr("height",this.rowHeight).attr("fill",l.color.blue).style("cursor","pointer").attr("rx",3),s.append("text").attr("class","label"),n.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),n.select("rect.fill").attr("fill-opacity",function(e,a){return a==t.selected?1:0}).on("click",function(e,a){t.selected===a?t.render(t.data,null):t.render(t.data,a)}).on("mouseenter",function(t,e){e!=i&&(o.select(this).attr("fill-opacity",.25),r.filter(function(t,a){return e==a}).select("circle").attr("r",8).attr("fill",l.color.blue).attr("fill-opacity",1).attr("stroke-opacity",1))}).on("mouseleave",function(t,n){n!=i&&(o.select(this).attr("fill-opacity",0),r.filter(function(t,e){return n==e}).select("circle").attr("r",6).attr("fill",l.color.blue).attr("fill-opacity",e).attr("stroke-opacity",a))}),n.select("text.label").text(function(t){return t.geography}).attr("y",this.rowHeight/2+5).attr("x",10).attr("font-weight",function(t){return t.totalRow||t.avgRow?700:400}).attr("fill",l.color.purple).style("pointer-events","none")};var i=o.scaleLinear().range([0,this.width]).domain([-1,1]),r=o.scaleLinear().range([this.height,0]).domain([0,1]),n=o.line().x(function(t){return i(t.x)}).y(function(t){return r(t.y)}),s=[{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:-1,y:0}],c=[[{x:-.9,y:.1},{x:-.8,y:0}],[{x:-.8,y:.2},{x:-.6,y:0}],[{x:-.7,y:.3},{x:-.4,y:0}],[{x:-.6,y:.4},{x:-.2,y:0}],[{x:-.5,y:.5},{x:0,y:0}],[{x:-.4,y:.6},{x:.2,y:0}],[{x:-.3,y:.7},{x:.4,y:0}],[{x:-.2,y:.8},{x:.6,y:0}],[{x:-.1,y:.9},{x:.8,y:0}],[{x:.1,y:.9},{x:-.8,y:0}],[{x:.2,y:.8},{x:-.6,y:0}],[{x:.3,y:.7},{x:-.4,y:0}],[{x:.4,y:.6},{x:-.2,y:0}],[{x:.5,y:.5},{x:0,y:0}],[{x:.6,y:.4},{x:.2,y:0}],[{x:.7,y:.3},{x:.4,y:0}],[{x:.8,y:.2},{x:.6,y:0}],[{x:.9,y:.1},{x:.8,y:0}],[{x:-.9,y:.1},{x:.9,y:.1}],[{x:-.8,y:.2},{x:.8,y:.2}],[{x:-.7,y:.3},{x:.7,y:.3}],[{x:-.6,y:.4},{x:.6,y:.4}],[{x:-.5,y:.5},{x:.5,y:.5}],[{x:-.4,y:.6},{x:.4,y:.6}],[{x:-.3,y:.7},{x:.3,y:.7}],[{x:-.2,y:.8},{x:.2,y:.8}],[{x:-.1,y:.9},{x:.1,y:.9}]];this.getTick=function(t,e,a,n){var s=o.scaleLinear().domain([0,1]).range([0,this.height]),h=a*(Math.PI/180),l=s(n)*Math.cos(h),c=s(n)*Math.sin(h),d=i.invert(l+i(t)),p=r.invert(c+r(e));return[{x:t,y:e},{x:d,y:p}]};var d=[this.getTick(-.9,.1,180,.02),this.getTick(-.8,.2,180,.02),this.getTick(-.7,.3,180,.02),this.getTick(-.6,.4,180,.02),this.getTick(-.5,.5,180,.02),this.getTick(-.4,.6,180,.02),this.getTick(-.3,.7,180,.02),this.getTick(-.2,.8,180,.02),this.getTick(-.1,.9,180,.02),this.getTick(.1,.9,300,.02),this.getTick(.2,.8,300,.02),this.getTick(.3,.7,300,.02),this.getTick(.4,.6,300,.02),this.getTick(.5,.5,300,.02),this.getTick(.6,.4,300,.02),this.getTick(.7,.3,300,.02),this.getTick(.8,.2,300,.02),this.getTick(.9,.1,300,.02),this.getTick(.8,0,60,.02),this.getTick(.6,0,60,.02),this.getTick(.4,0,60,.02),this.getTick(.2,0,60,.02),this.getTick(0,0,60,.02),this.getTick(-.2,0,60,.02),this.getTick(-.4,0,60,.02),this.getTick(-.6,0,60,.02),this.getTick(-.8,0,60,.02)];this.drawGrid=function(){this.matrix=this.canvas.append("g").attr("class","matrix"),this.matrix.selectAll("text.label-1").data(d.filter(function(t,e){return e<9})).enter().append("text").text(function(t,e){return 10*(e+1)}).attr("text-anchor","end").style("font-size",13).style("font-weight","bold").attr("x",function(t,e){return i(t[1].x)-6}).attr("y",function(t,e){return r(t[1].y)+4}),this.matrix.selectAll("text.label-2").data(d.filter(function(t,e){return e>=9&&e<18})).enter().append("text").attr("class","label-2").attr("x",function(t,e){return i(t[1].x)+4}).attr("y",function(t,e){return r(t[1].y)+4}).attr("transform",function(t){return"rotate(300, ".concat(i(t[1].x),", ").concat(r(t[1].y),")")}).text(function(t,e){return 10*(e+1)}).attr("text-anchor","start").style("font-size",13).style("font-weight","bold"),this.matrix.selectAll("text.label-3").data(d.filter(function(t,e){return e>=18})).enter().append("text").attr("class","label-3").attr("x",function(t,e){return i(t[1].x)+4}).attr("y",function(t,e){return r(t[1].y)+4}).attr("transform",function(t){return"rotate(60, ".concat(i(t[1].x),", ").concat(r(t[1].y),")")}).text(function(t,e){return 10*(e+1)}).attr("text-anchor","start").style("font-size",13).style("font-weight","bold"),this.matrix.selectAll(".tickLine").data(d).enter().append("path").attr("class","tickLine").attr("stroke","black").attr("stroke-width",2).attr("d",function(t){return n(t)}),this.matrix.append("path").datum(s).attr("d",n).attr("fill",l.color.light_grey),this.matrix.selectAll(".line").data(c).enter().append("path").attr("class","line").attr("stroke-width",2).attr("stroke","white").attr("d",function(t){return n(t)}),this.matrix.append("path").datum(s).attr("d",n).attr("stroke-width",2).attr("stroke","black").attr("fill","none"),this.matrix.append("text").attr("class","label2").text("% sand").attr("text-anchor","middle").style("font-size",15).style("font-weight","bold").attr("x",i(d[4][1].x)-12).attr("y",r(d[4][1].y)-40).attr("transform","rotate(300, ".concat(i(d[4][1].x),", ").concat(r(d[4][1].y),")")),this.matrix.append("text").attr("class","label3").text("% dirt").attr("text-anchor","middle").style("font-size",15).style("font-weight","bold").attr("x",i(d[13][1].x)-12).attr("y",r(d[13][1].y)-32).attr("transform","rotate(60, ".concat(i(d[13][1].x),", ").concat(r(d[4][1].y),")")),this.matrix.append("text").attr("class","label1").text("% water").attr("text-anchor","middle").style("font-size",15).style("font-weight","bold").attr("x",i(d[22][1].x)).attr("y",r(d[22][1].y)+42)},this.drawLines=function(){var t=this;if(null!==this.selected){var e=this.dotContainer.selectAll("g").filter(function(e,a){return a==t.selected}),a=e.select("circle"),s=+e.attr("data-x"),h=+e.attr("data-y"),l=o.scaleLinear().range([-1,1]).domain([1,0]),c=[[{x:i.invert(s),y:r.invert(h)},{x:l(a.attr("data-0")),y:0}],[{x:i.invert(s),y:r.invert(h)},{x:a.attr("data-1")-1,y:a.attr("data-1")}],[{x:i.invert(s),y:r.invert(h)},{x:a.attr("data-2"),y:1-a.attr("data-2")}]],d=this.lineContainer.selectAll("path.lines").data(c);d.exit().remove();var p=d.enter().append("path").attr("class","lines");d=d.merge(p),d.attr("fill","none").attr("stroke","black").attr("stroke-width",2).style("pointer-events","none").transition().attr("opacity",1).attr("d",n)}else this.lineContainer.selectAll("path.lines").transition().attr("opacity",0)},this.drawMatrix=function(){var t=this,n=this.dotContainer.selectAll("g").data(this.data.data);n.exit().remove();var s=n.enter().append("g");s.append("circle"),n=n.merge(s),n.attr("transform",function(t){var e=r(t.values[1].ratio),a=i(t.values[2].ratio-t.values[0].ratio);return"translate(".concat(a,", ").concat(e,")")}).attr("data-x",function(t){return i(t.values[2].ratio-t.values[0].ratio)}).attr("data-y",function(t){return r(t.values[1].ratio)}),n.select("circle").attr("stroke-width",2).attr("data-0",function(t){return+t.values[0].ratio}).attr("data-1",function(t){return+t.values[1].ratio}).attr("data-2",function(t){return+t.values[2].ratio}).transition().attr("fill",function(e,a){return a===t.selected?l.color.purple:l.color.blue}).attr("r",function(e,a){return a===t.selected?9:6}).attr("fill-opacity",function(a,i){return i===t.selected?1:e}).attr("stroke-opacity",function(e,i){return i===t.selected?1:a}).attr("stroke",function(e,a){return a===t.selected?l.color.light_grey:l.color.purple})},this.updateAxisLabels=function(){this.matrix.select("text.label1").text("% ".concat(this.data.meta.series[0])),this.matrix.select("text.label2").text("% ".concat(this.data.meta.series[1])),this.matrix.select("text.label3").text("% ".concat(this.data.meta.series[2]))},this.created=function(){this.list=this.svg.append("g").attr("class","list").attr("transform","translate(0, ".concat(this.padding.top,")")),this.list.append("text").text("Velg delbydel").attr("font-size",12).style("text-transform","uppercase").attr("font-weight",700).attr("fill",l.color.purple).attr("transform","translate(10, -16)"),this.canvas.selectAll("*").remove(),this.drawGrid(),this.lineContainer=this.canvas.append("g").attr("class","lineContainer"),this.dotContainer=this.canvas.append("g").attr("class","dotcontainer")},this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(this.data=t,this.selected=e,this.heading.text(t.meta.heading),this.drawMatrix(),this.drawList(),this.updateAxisLabels(),this.drawLines(),this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")))},this.init(t)}o.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})};var R=H;function B(t){h.apply(this,arguments),this.padding={top:90,left:240,right:20,bottom:68},this.height=0,this.width=600,this.x=o.scaleLinear(),this.bars,this.legendBox,this.colors=o.scaleOrdinal().domain([0,1,2,3]).range(["#C57066","#834B44","#838296","#4F4E6A"]),this.created=function(){this.legendBox=this.svg.append("g").attr("class","legend"),this.canvas.append("text").attr("class","label-min").attr("font-size",13).attr("y",-40).attr("text-anchor","end").text("Trangbodde husstander"),this.canvas.append("text").attr("class","label-max").attr("font-size",13).attr("y",-40).attr("text-anchor","start").text("Ikke trangbodde husstander"),this.bars=this.canvas.append("g").attr("class","bars"),this.canvas.append("line").attr("class","zero").attr("stroke-width",1.5).attr("stroke","black")},this.initRowElements=function(t){t.append("rect").attr("class","rowFill").attr("fill",l.color.purple).attr("height",this.rowHeight).attr("x",-this.padding.left).attr("width",this.width+this.padding.left),t.append("rect").attr("class","divider").attr("fill",l.color.purple).attr("x",-this.padding.left).attr("width",this.width+this.padding.left).attr("height",1).attr("y",this.rowHeight),t.append("text").attr("class","geography").attr("fill",l.color.purple).attr("y",this.rowHeight/2+6).attr("x",10-this.padding.left)},this.drawRows=function(){var t=this,e=this.canvas.selectAll("g.row").data(this.data.data.sort(function(t,e){return t.avgRow-e.avgRow})),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),this.initRowElements(a),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.05:0}),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(e){return l.truncate(e.geography,t.padding.left)});var i=o.stack().keys([0,1,2,3]).offset(o.stackOffsetDiverging)(this.data.data.map(function(t){return t.values})),r=1.1*o.min(i.map(function(t){return o.min(t.map(function(t){return t[0]}))})),n=1.1*o.max(i.map(function(t){return o.max(t.map(function(t){return t[1]}))}));this.x.domain([r,n]).range([0,this.width]),this.xAxis.call(o.axisTop(this.x).tickFormat(function(t){return 100*Math.abs(t)+"%"}));var s=this.bars.selectAll("g.series").data(i),h=s.enter().append("g").attr("class","series");s.exit().remove(),s=s.merge(h),s.attr("fill",function(e,a){return t.colors(a)});var c=s.selectAll("rect").data(function(t){return t}),d=c.enter().append("rect");c.exit().remove(),c=c.merge(d),c.attr("x",this.x(0)).attr("width",0).attr("y",function(e,a){return a*t.rowHeight+(t.rowHeight-t.barHeight)/2}).attr("height",this.barHeight).transition().attr("x",function(e){return t.x(e[0])}).attr("width",function(e){return t.x(e[1])-t.x(e[0])})},this.drawLegend=function(){var t=this;this.legendBox.attr("transform","translate(0, ".concat(this.height+this.padding.top+this.padding.bottom/2-8,")"));var e=this.legendBox.selectAll("g.group").data(this.data.meta.series),a=e.enter().append("g").attr("class","group");e.exit().remove(),e=e.merge(a),a.append("rect").attr("height",16).attr("width",16).attr("rx",3).attr("fill",function(e,a){return t.colors(a)}),a.append("text").attr("y",8),e.select("text").text(function(t){return t.heading}).attr("y",12).attr("x",20).attr("font-size",12),e.attr("transform",function(e,a){return"translate(".concat(a*((t.width+t.padding.left+t.padding.right)/4),", 0)")})},this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ratio";if(void 0!==t){t.data=t.data.sort(function(t,e){return t.avgRow-e.avgRow}),t.data=t.data.sort(function(t,e){return t.totalRow-e.totalRow}),this.data=t,t.data=t.data.map(function(t){var e=[-1*t.values[1],-1*t.values[0]];return t.values[0]=e[0],t.values[1]=e[1],t});var a=[t.meta.series[1],t.meta.series[0]];t.meta.series[0]=a[0],t.meta.series[1]=a[1],this.method=e,this.heading.text(this.data.meta.heading),this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.height=this.rowHeight*this.data.data.length,this.svg.attr("height",this.padding.top+this.height+this.padding.bottom).attr("width",this.width+this.padding.left+this.padding.right),this.drawRows(),this.drawLegend(),this.canvas.select("line.zero").attr("x1",this.x(0)).attr("x2",this.x(0)).attr("y1",0).attr("y2",this.height),this.canvas.select("text.label-min").attr("x",this.x(0)-15),this.canvas.select("text.label-max").attr("x",this.x(0)+15)}},this.init(t)}var T=B,C={data:function(){return{svg:!1,res:null,currentTemplate:!1,heading:"loading ...",showDropdown:!1,dropDownList:s}},watch:{settings:function(){this.draw()}},mounted:function(){this.draw()},methods:{draw:function(){var t=this;if(this.currentTemplate!==this.settings.template)switch(this.showDropdown="d"===this.settings.template,this.settings.template){case"a":this.svg=new d(this.$refs["svg"]);break;case"b":this.svg=new u(this.$refs["svg"]);break;case"c":this.svg=new f(this.$refs["svg"]);break;case"d":this.svg=new x(this.$refs["svg"]);break;case"e":this.svg=new v(this.$refs["svg"]);break;case"f":this.svg=new w(this.$refs["svg"]);break;case"g":this.svg=new _(this.$refs["svg"]);break;case"h":this.svg=new L(this.$refs["svg"]);break;case"i":this.svg=new R(this.$refs["svg"]);break;case"j":this.svg=new T(this.$refs["svg"]);break;default:break}n["json"](this.settings.url).then(function(e){t.res=e,t.svg.render(t.res,t.settings.method),t.currentTemplate=t.settings.template})}},props:{settings:{type:Object,required:!0}}},j=C,D=(a("73fe"),a("2877")),E=Object(D["a"])(j,i,r,!1,null,"81ef253c",null);E.options.__file="Graph.vue";e["a"]=E.exports},fb98:function(t,e,a){}});
//# sourceMappingURL=app.08e8ffc6.js.map