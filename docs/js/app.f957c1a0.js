(function(t){function e(e){for(var i,s,o=e[0],l=e[1],h=e[2],d=0,u=[];d<o.length;d++)s=o[d],n[s]&&u.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(u.length)u.shift()();return r.push.apply(r,h||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/bydelsfakta/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var c=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1cca":function(t,e,a){},"1d58":function(t,e,a){},3728:function(t,e,a){"use strict";var i=a("4aa7"),n=a.n(i);n.a},"3f8e":function(t,e,a){"use strict";var i=a("4428"),n=a.n(i);n.a},4428:function(t,e,a){},"4aa7":function(t,e,a){},"4f32":function(t,e,a){"use strict";var i=a("1d58"),n=a.n(i);n.a},5351:function(t,e,a){"use strict";var i=a("aadd"),n=a.n(i);n.a},"54c1":function(t,e,a){"use strict";var i=a("586f"),n=a.n(i);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var i=a("2b0e"),n=a("bb71");i["a"].use(n["a"],{iconfont:"md"});var r=a("252c"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("navigation-drawer"),a("div",{attrs:{id:"content"}},[a("navigation-topbar"),a("main",[a("router-view")],1)],1)],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{attrs:{id:"navbar"}},[a("img",{staticClass:"oslo__logo",attrs:{src:t.osloIcon,alt:"oslo-logo"},on:{click:t.onClickHome}}),a("nav",{attrs:{role:"navigation"}},[t._l(t.links,function(e){return a("div",{key:e.key,staticClass:"oslo__navigation-link",class:{"oslo__navigation-link--active":t.checkActiveBydel(e.uri),"oslo__navigation-link--compare":t.checkMultipleBydeler(e.key)}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox",id:"checkbox-"+e.key,disabled:t.disableChecbox(e.key)},domProps:{value:e.key,checked:Array.isArray(t.selected)?t._i(t.selected,e.key)>-1:t.selected},on:{change:[function(a){var i=t.selected,n=a.target,r=!!n.checked;if(Array.isArray(i)){var s=e.key,o=t._i(i,s);n.checked?o<0&&(t.selected=i.concat([s])):o>-1&&(t.selected=i.slice(0,o).concat(i.slice(o+1)))}else t.selected=r},t.onChangeCheckbox]}}),a("label",{attrs:{for:"checkbox-"+e.key}}),a("span",{staticClass:"oslo__navigation-link--label",on:{click:function(a){t.onClickBydel(e.uri)}}},[t._v(t._s(e.value))])])}),a("div",{staticClass:"oslo__navigation-link oslo__navigation-link--label-compare",class:{"oslo__navigation-link--active":t.$route.path.includes("sammenlign")},attrs:{role:"button"},on:{click:t.onClickSammenlign}},[a("span",{staticClass:"oslo__navigation-link--label"},[t._v("Sammenlign bydeler")])]),a("div",{staticClass:"oslo__navigation-drawer__button-container"},[a("div",{staticClass:"button-container"},[a("button",{staticClass:"oslo__navigation-button",on:{click:t.selectAll}},[t._v("Velg alle")]),a("button",{staticClass:"oslo__navigation-button",attrs:{disabled:0===t.selected.length},on:{click:t.unselectAll}},[t._v("Fjern alle")])])])],2)])},h=[],c=[{key:"1",value:"Bydel Gamle Oslo",uri:"gamleoslo"},{key:"2",value:"Bydel Grünerløkka",uri:"grunerlokka"},{key:"3",value:"Bydel Sagene",uri:"sagene"},{key:"4",value:"Bydel St. Hanshaugen",uri:"sthanshaugen"},{key:"5",value:"Bydel Frogner",uri:"frogner"},{key:"6",value:"Bydel Ullern",uri:"ullern"},{key:"7",value:"Bydel Vestre Aker",uri:"vestreaker"},{key:"8",value:"Bydel Nordre Aker",uri:"nordreaker"},{key:"9",value:"Bydel Bjerke",uri:"bjerke"},{key:"10",value:"Bydel Grorud",uri:"grorud"},{key:"11",value:"Bydel Stovner",uri:"stovner"},{key:"12",value:"Bydel Alna",uri:"alna"},{key:"13",value:"Bydel Østensjø",uri:"ostensjo"},{key:"14",value:"Bydel Nordstrand",uri:"nordstrand"},{key:"15",value:"Bydel Søndre Nordstrand",uri:"sondrenordstrand"}],d=c,u=a("56da"),p=a.n(u),g={name:"NavigationDrawer",data:function(){return{links:d,osloIcon:p.a,showAllCheckbox:!1,selected:[]}},mounted:function(){var t=this,e=this.$route.path.split("/"),a=this.$route.path;if(void 0!==this.$route.params.bydel){if(a.includes("sammenlign")){var i=this.$route.params.bydel.split("-");this.selected="alle"===i[0]?[]:i}else if(a.includes("bydel")){var n=d.find(function(e){return e.uri===t.$route.params.bydel}).key;this.selected=[n]}e.length>3&&(this.selectedSubpage=e[3])}},methods:{checkActiveBydel:function(t){return this.$route.params.bydel===t&&this.$route.path.includes("bydel")},checkMultipleBydeler:function(t){return this.$route.path.includes("sammenlign")&&this.selected.includes(t)},disableChecbox:function(t){return this.$route.path.includes("bydel")&&1===this.selected.length&&this.selected[0]===t},onChangeCheckbox:function(){var t=this.$route.path.split("/");0===this.selected.length?(this.showAllCheckbox=!1,t.length>3?this.$router.push({path:"/sammenlign/alle/".concat(t[3])}):this.$router.push({path:"/sammenlign/alle"})):this.selected.length===d.length?(this.showAllCheckbox=!0,t.length>3?this.$router.push({path:"/sammenlign/alle/".concat(t[3])}):this.$router.push({path:"/sammenlign/alle"})):this.selected.length>0&&(t.length>3?this.$router.push({path:"/sammenlign/".concat(this.selected.join("-"),"/").concat(t[3])}):this.$router.push({path:"/sammenlign/".concat(this.selected.join("-"))}))},onClickBydel:function(t){var e=this.$route.path.split("/"),a=this.links.find(function(e){return e.uri===t}).uri;e.length>3?this.$router.push({path:"/bydel/".concat(a,"/").concat(e[3])}):this.$router.push({path:"/bydel/".concat(a)})},onClickHome:function(){this.selected=[],this.$router.push({name:"Home"})},onClickSammenlign:function(){var t=this.$route.path.split("/");this.selected.length<2?(this.selected=[],t.length>3?this.$router.push({path:"/sammenlign/alle/".concat(t[3])}):this.$router.push({path:"/sammenlign/alle"})):this.selected.length===d.length?t.length>3?this.$router.push({path:"/sammenlign/alle/".concat(t[3])}):this.$router.push({path:"/sammenlign/alle"}):t.length>3?this.$router.push({path:"/sammenlign/".concat(this.selected.join("-"),"/").concat(t[3])}):this.$router.push({path:"/sammenlign/".concat(this.selected.join("-"))})},selectAll:function(){var t=this,e=this.$route.path.split("/");this.selected=[],this.showAllCheckbox=!0,d.forEach(function(e){return t.selected.push(e.key)}),e.length>3?this.$router.push({path:"/sammenlign/alle/".concat(e[3])}):this.$router.push({path:"/sammenlign/alle"})},unselectAll:function(){var t=this.$route.path.split("/");this.selected=[],t.length>3?this.$router.push({path:"/sammenlign/alle/".concat(t[3])}):this.$router.push({path:"/sammenlign/alle"})}},watch:{$route:function(t){var e=this.$route.path.split("/");if(t.path.includes("bydel")){var a=d.find(function(t){return t.uri===e[2]}).key;this.selected=[a]}else if(t.path.includes("sammenlign")&&!this.showAllCheckbox){var i=e[2].split("-");this.selected=i}}}},f=g,m=(a("3f8e"),a("2877")),v=Object(m["a"])(f,l,h,!1,null,"9eabcb0a",null);v.options.__file="NavigationDrawer.vue";var b=v.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"oslo__navigation-topbar"},[a("div",{staticClass:"oslo__navigation-topbar-button",attrs:{role:"button"},on:{click:t.backButton}},[a("i",{staticClass:"material-icons oslo__topbar"},[t._v("arrow_back")]),a("h4",{staticClass:"text-uppercase oslo__topbar oslo__topbar-text"},[t._v(t._s(t.getBydel(this.$route.params.bydel)))])]),a("v-select",{staticClass:"v-select__selection--uppercase",attrs:{items:t.items,label:"VELG TEMA"},model:{value:t.selectedSubpage,callback:function(e){t.selectedSubpage=e},expression:"selectedSubpage"}})],1)},y=[],w=function(){return"/bydelsfakta"},k=w,_=[{text:"Folkemengde",value:"folkemengde",options:{kategori:"Befolkning",tema:"Folkemengde",bgImage:"".concat(k(),"/img/folkemengde.png"),bgColor:"rgb(255, 129, 116)",txtColor:"rgb(245, 173, 165)"}},{text:"Alder",value:"alder",options:{kategori:"Befolkning",tema:"Alder",bgImage:"".concat(k(),"/img/alder.png"),bgColor:"rgb(255, 129, 116)",txtColor:"rgb(245, 173, 165)"}},{text:"Innvandrerbefolkningen",value:"innvandrerbefolkningen",options:{kategori:"Befolkning",tema:"Innvandrer&shy;befolkningen",bgImage:"".concat(k(),"/img/innvandring.png"),bgColor:"rgb(255, 129, 116)",txtColor:"rgb(245, 173, 165)"}},{text:"Husholdninger",value:"husholdninger",options:{kategori:"Bomiljø",tema:"Husholdninger",bgImage:"".concat(k(),"/img/husholdninger.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Trangboddhet",value:"trangboddhet",options:{kategori:"Bomiljø",tema:"Trangboddhet",bgImage:"".concat(k(),"/img/trangboddhet.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Eierform",value:"eierform",options:{kategori:"Bomiljø",tema:"Eierform",bgImage:"".concat(k(),"/img/eierform.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Kommunale boliger",value:"kommunaleboliger",options:{kategori:"Bomiljø",tema:"Kommunale boliger",bgImage:"".concat(k(),"/img/kommunale-boliger.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Flytting",value:"flytting",options:{kategori:"Bomiljø",tema:"Flytting",bgImage:"".concat(k(),"/img/flytting.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Bygningstyper",value:"bygningstyper",options:{kategori:"Bomiljø",tema:"Bygningstyper",bgImage:"".concat(k(),"/img/bygningstyper.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Boligpriser",value:"boligpriser",options:{kategori:"Bomiljø",tema:"Boligpriser",bgImage:"".concat(k(),"/img/boligpriser.png"),bgColor:"rgb(66, 248, 182)",txtColor:"rgb(199, 247, 201)"}},{text:"Levekår",value:"levekaar",options:{kategori:"Levekår",tema:"Levekår",bgImage:"".concat(k(),"/img/levekaar.png"),bgColor:"rgb(248, 198, 107)",txtColor:"rgb(244, 206, 138)"}}],A=_,C={name:"NavigationTopbar",data:function(){return{items:A,selectedSubpage:"",bydeler:d}},mounted:function(){var t=this.$route.path.split("/");t.length>3&&(this.selectedSubpage=t[3])},methods:{getBydel:function(t){return this.$route.path.includes("sammenlign")?"Sammenligne bydeler":void 0!==t?this.bydeler.find(function(e){return e.uri===t}).value:"Velg bydel"},backButton:function(){var t=this.$route;null===this.selectedSubpage?(this.selected=[],this.$router.push({path:"/"})):t.path.includes("bydel")?this.$router.push({path:"/bydel/".concat(t.params.bydel)}):t.path.includes("sammenlign")&&this.$router.push({path:"/sammenlign/".concat(t.params.bydel)}),this.selectedSubpage=null}},watch:{$route:function(t){var e=this.$route.path.split("/");t.path.includes("bydel")&&(this.selectedSubpage=null),e.length>3&&(this.selectedSubpage=e[3])},selectedSubpage:function(t){this.$route.path.includes("sammenlign")&&null!==t?this.$router.push({path:"/sammenlign/".concat(this.$route.params.bydel,"/").concat(t)}):this.$route.path.includes("bydel")&&null!==t&&this.$router.push({path:"/bydel/".concat(this.$route.params.bydel,"/").concat(t)})}}},D=C,j=(a("8fa4"),a("6544")),H=a.n(j),B=a("b56d"),L=Object(m["a"])(D,x,y,!1,null,"09dce202",null);L.options.__file="NavigationTopbar.vue";var R=L.exports;H()(L,{VSelect:B["a"]});var S={name:"App",components:{NavigationTopbar:R,NavigationDrawer:b}},T=S,E=(a("3728"),a("7496")),$=Object(m["a"])(T,s,o,!1,null,"cee5d7d0",null);$.options.__file="App.vue";var z=$.exports;H()($,{VApp:E["a"]});var M=a("8c4f"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"graph__container"},[t.showDropdown?a("select",{staticClass:"graph__dropdown",on:{input:function(e){t.svg.render(t.data,{method:t.settings.method,range:e.target.value})}}},t._l(t.dropDownList,function(e,i){return a("option",{key:i,domProps:{value:e.range,selected:e.selected}},[t._v(t._s(e.label))])}),0):t._e(),a("svg",{ref:"svg",staticClass:"graph__svg"}),a("resize-observer",{on:{notify:function(e){t.svg.resize(t.data,{method:t.settings.method})}}})],1)},O=[],I=a("5698"),G=[{range:"[0, 119]",label:"Alle",selected:!0},{range:"[0, 1]",label:"0–1 år"},{range:"[0, 5]",label:"0–5 år"},{range:"[6, 12]",label:"6–12 år"},{range:"[6, 15]",label:"6–15 år"},{range:"[6, 17]",label:"6–17 år"},{range:"[12, 15]",label:"12–15 år"},{range:"[16, 18]",label:"16–18 år"},{range:"[16, 18]",label:"19–29 år"},{range:"[16, 18]",label:"19–29 år"},{range:"[30, 49]",label:"30–49 år"},{range:"[50, 66]",label:"50–66 år"},{range:"[67, 119]",label:"67+ år"},{range:"[60, 79]",label:"60–79 år"},{range:"[80, 119]",label:"80+ år"},{range:"[80, 89]",label:"80–89 år"},{range:"[90, 119]",label:"90+ år"}],P=I,W=function(t,e,a){var i;return function(){var n=this,r=arguments,s=function(){i=null,a||t.apply(n,r)},o=a&&!i;clearTimeout(i),i=setTimeout(s,e),o&&t.apply(n,r)}},N={yellow:"#F8C66B",light_yellow:"#F8F0DC",purple:"#292858",grey:"#cccccc",light_grey:"#F0F1F1",red:"#FF8174",blue:"#6EE9FF",positive:"#06AFCD"},q={dateTime:"%A %e %B %Y %H:%M:%S",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],shortDays:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],shortMonths:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"]},K={decimal:",",thousands:"",grouping:[3],currency:[""," kr"],percent:"%"};function X(t){this.data={},this.height=0,this.width=0,this.padding={top:30,right:40,bottom:40,left:120},this.height2=0,this.yGutter=0,this.x=P.scaleLinear(),this.y=P.scaleBand(),this.max=0,this.min=0,this.rowHeight=43,this.barHeight=24,this.tabWidth=120,this.tabGap=10,this.strokeWidth=4,this.strokeWidthHighlight=6,this.parseDate=P.timeParse("%Y-%m-%d"),this.formatYear=P.timeFormat("%Y"),this.sourceHeight=25,this.duration=100,this.resize=W(function(){this.render(this.data,{method:this.method,series:this.series,highlight:this.highlight,event:"resize"})},250),this.init=function(){this.svg=P.select(t).style("font-family","OsloSans"),this.svg.selectAll("*").remove(),this.heading=this.svg.append("text").attr("class","heading").attr("font-size",14).attr("font-weight","bold").attr("y",14),this.canvas=this.svg.append("g").attr("class","canvas").attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.xAxis=this.canvas.append("g").attr("class","axis x"),this.yAxis=this.canvas.append("g").attr("class","axis y"),this.x2Axis=this.canvas.append("g").attr("class","axis x2"),this.y2Axis=this.canvas.append("g").attr("class","axis y2"),this.created(),this.addSourceElement()},this.addSourceElement=function(){var t=this.svg.append("g").attr("class","sourceGroup").attr("fill",N.purple).attr("opacity",0);t.append("text").attr("class","source-label").attr("font-size",10).text("Kilde: "),t.append("text").attr("class","source").attr("font-size",10).attr("transform",function(){var e=t.select(".source-label").node().getBBox().width;return"translate(".concat(e+4,", 0)")})},this.drawSource=function(t){this.svg.select("text.source").text(t);var e=this.svg.node().parentNode.getBoundingClientRect(),a=this.svg.select("g.sourceGroup").node().getBBox(),i=e.width-a.width;this.svg.select("g.sourceGroup").attr("opacity",1).attr("transform","translate(".concat(i,", ").concat(e.height-9,")"))},this.parentWidth=function(){return t.parentNode.getBoundingClientRect().width},this.created=function(){},this.commonRender=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==t&&void 0!==t.data)return t.data=Array.isArray(t.data)?t.data.sort(function(t,e){return t.totalRow-e.totalRow}):t.data,this.data=t,this.heading.text(this.data.meta.heading),this.canvas.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.method=e.method||"value",this.highlight=void 0===e.highlight||null==e.highlight?-1:e.highlight,this.series=e.series||0,this.selected=void 0===e.selected||null===e.selected?-1:e.selected,this.width=this.parentWidth()-this.padding.left-this.padding.right,this.height=this.data.data.length*this.rowHeight,!0},this.render=function(){}}P.timeFormatDefaultLocale(q),P.formatDefaultLocale(K);var Y=X,U={truncate:function(t,e){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:14,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400;e=2===e.length?e[1]-e[0]:e;var r=P.select("body").append("svg");r.append("text").text(t).attr("font-size",i).attr("font-weight",n).each(function(){a=this.getComputedTextLength()}),r.remove();var s=Math.max(t.length-Math.floor(e/a*t.length),0);return s&&(t=t.substring(0,t.length-s-1),t+="..."),t}},V=U;function J(t){Y.apply(this,arguments),this.padding={top:100,left:190,right:20,bottom:30},this.gutter=30,this.x2=P.scaleLinear(),this.x=[],this.filteredData;var e=P.format(".0%");this.render=function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.commonRender(t,a)&&(this.filteredData=JSON.parse(JSON.stringify(this.data)),this.selected>-1&&(this.filteredData.meta.series=[this.data.meta.series[this.selected]],this.filteredData.data=this.filteredData.data.map(function(t){return t.values=[t.values[e.selected]],t})),this.padding.top=this.data.meta.series.length<=1&&-1===this.selected?40:100,this.svg.transition().duration(this.duration).attr("height",this.padding.top+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.padding.left+this.width+this.padding.right),this.canvas.select("g.close").style("display",function(){return e.selected>-1?"block":"none"}).attr("transform","translate(".concat(this.width-30,", -60)")).attr("tabindex",-1!==this.selected&&0),this.setScales(),this.drawAxis(),this.drawColumns(),this.drawRows(),this.drawSource("Statistisk sentralbyrå (test)"))},this.created=function(){var t=this;this.canvas.append("g").attr("class","columns"),this.canvas.append("g").attr("class","rows");var e=this.canvas.append("g").attr("class","close").style("display","none").on("click keyup",function(){P.event&&"keyup"===P.event.type&&"Enter"!==P.event.key||t.render(t.data)});e.append("rect").attr("width",30).attr("height",30).attr("fill",N.red).style("cursor","pointer").attr("opacity",.7).on("mouseenter",function(){P.select(this).transition().duration(this.duration).attr("opacity",1)}).on("mouseleave",function(){P.select(this).transition().duration(this.duration).attr("opacity",.7)}),e.append("text").attr("fill",N.purple).style("pointer-events","none").text("x").attr("font-weight",700).attr("font-size",20).attr("text-anchor","middle").attr("transform","translate(15, 20)")},this.initRowElements=function(t){t.append("rect").attr("class","rowFill").attr("fill",N.purple).attr("height",this.rowHeight).attr("x",-this.padding.left).attr("width",this.width+this.padding.left),t.append("rect").attr("class","divider").attr("fill",N.purple).attr("x",-this.padding.left).attr("width",this.width+this.padding.left).attr("height",1).attr("y",this.rowHeight);var e=t.append("a").attr("class","hyperlink");e.append("text").attr("class","geography").attr("fill",N.purple).attr("y",this.rowHeight/2+6)},this.drawRows=function(){var t=this,e=this.canvas.select("g.rows").selectAll("g.row").data(this.filteredData.data),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),this.initRowElements(a),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow,0}),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("a.hyperlink").attr("xlink:href","/bydelsfakta#/bydel/sthanshaugen/folkemengde"),e.select("a.hyperlink").select("text").text(function(e){return V.truncate(e.geography,t.padding.left)}).attr("x",function(){return t.data.meta.series.length>1?10-t.padding.left:-10}).attr("text-anchor",function(){return t.data.meta.series.length>1?"start":"end"}),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("text.geography").append("title").html(function(t){return t.geography}),e.attr("data-total",function(t){return t.totalRow}),e.attr("data-avg",function(t){return t.avgRow});var i=e.selectAll("rect.bar").data(function(t){return t.values}),n=i.enter().append("rect").attr("class","bar").attr("width",0);i.exit().remove(),i=i.merge(n),i.attr("height",function(e,a,i){return i[0].parentNode.getAttribute("data-total")?1:t.barHeight}).attr("y",function(e,a,i){return i[0].parentNode.getAttribute("data-total")?t.rowHeight/2:(t.rowHeight-t.barHeight)/2}).attr("fill",function(t,e,a){return a[0].parentNode.getAttribute("data-avg")?N.yellow:N.purple}).attr("opacity",function(e,a){return a===t.highlight||-1===t.highlight||void 0===t.highlight?1:.2}),i.transition().duration(this.duration).attr("width",function(e){return t.x[0](e)}).attr("x",function(e,a){return t.x[a](0)})},this.setScales=function(){var t=this,e=this.filteredData.meta.series.map(function(e,a){return P.max(t.filteredData.data.map(function(t){return t.values[a]}))});this.x2=P.scaleLinear().range([0,this.width-(this.gutter*this.filteredData.meta.series.length-1)]).domain([0,P.sum(e)]),this.x=this.filteredData.meta.series.map(function(a,i){for(var n=P.scaleLinear(),r=0,s=0;s<i;s++)r+=t.x2(e[s]),r+=t.gutter;var o=r+t.x2(e[i]);return n.domain([0,e[i]]).range([r,o]),n}),this.x2.domain(this.filteredData.meta.series.map(function(t,e){return e})).range([0,this.width])},this.drawAxis=function(){var t=this,a=this.canvas.selectAll("g.axis.x").data(this.x),i=a.enter().append("g").attr("class","axis x").attr("transform","translate(".concat(0,", ",this.height+10,")"));a.exit().remove(),a=a.merge(i),a.each(function(a,i,n){P.select(n[i]).attr("transform","translate(".concat(0,", ",t.height+10,")")).attr("opacity",function(){return i===t.highlight||-1===t.highlight||void 0===t.highlight?1:.2}).transition().duration(t.duration).call(P.axisBottom(t.x[i]).ticks((t.x[i].range()[1]-t.x[i].range()[0])/60).tickFormat(e))})},this.drawColumns=function(){var t=this,e=this.canvas.select("g.columns").selectAll("g.column").data(this.filteredData.meta.series),a=e.enter().append("g").attr("class","column");e.exit().remove(),e=e.merge(a),e.transition().duration(this.duration).attr("transform",function(e,a){return"translate(".concat(t.x[a](0),",0)")}),a.append("rect").attr("fill",N.light_grey),a.append("rect").attr("class","arrow").attr("width",1).attr("height",11),a.append("text").attr("class","colHeading").attr("transform","translate(0, -40)"),a.append("text").attr("class","colSubheading").attr("transform","translate(0, -20)"),a.append("rect").attr("class","clickTrigger"),e.select("rect.clickTrigger").style("cursor",function(){if(t.data.meta.series.length>1)return"pointer"}).attr("width",function(e,a){return t.x[a].range()[1]-t.x[a].range()[0]+t.gutter}).attr("height",this.height+80).attr("transform","translate(0, -60)").attr("fill","black").attr("opacity",0).on("mouseover",function(e,a){t.render(t.data,{highlight:a,selected:t.selected})}).on("mouseleave",function(){t.render(t.data,{highlight:-1,selected:t.selected})}).on("click keyup",function(e,a,i){if((!P.event||"keyup"!==P.event.type||"Enter"===P.event.key)&&1!==t.data.meta.series.length){var n=t.selected>-1?-1:a,r=i[a].parentElement;r.parentElement.prepend(r);var s=t.canvas.select("g.rows").selectAll("g.row").selectAll("rect.bar").filter(function(t,e){return e===a});s.each(function(){var t=P.select(this).node();t.parentElement.prepend(t)}),t.render(t.data,{selected:n})}}).attr("tabindex",this.filteredData.meta.series.length>1&&0),e.select("text.colHeading").style("display",function(){return t.filteredData.meta.series.length>1||t.selected>-1?"inherit":"none"}).text(function(t){return t.heading}).append("title").html(function(t){return t.heading}),e.select("text.colSubheading").text(function(e,a){return V.truncate(e.subheading,t.x[a].range())}).style("display",function(){return t.filteredData.meta.series.length>1||t.selected>-1?"inherit":"none"}).append("title").html(function(t){return t.subheading}),e.select("text.colHeading").attr("opacity",function(e,a){return a===t.highlight||-1===t.highlight||void 0===t.highlight?1:.2}),e.select("text.colSubheading").attr("opacity",function(e,a){return a===t.highlight||-1===t.highlight||void 0===t.highlight?1:.2}),e.select("rect").attr("y",-10).attr("height",this.height+10).transition().duration(this.duration).attr("width",function(e,a){return t.filteredData.data.filter(function(t){return t.totalRow}).length?t.x[0](t.filteredData.data.filter(function(t){return t.totalRow})[0].values[a]):0}),e.select("rect.arrow").attr("y",function(){var e=t.filteredData.data.findIndex(function(t){return t.totalRow});return e*t.rowHeight}).attr("transform","translate(0, ".concat(this.rowHeight/2-5,")")).transition().duration(this.duration).attr("x",function(e,a){return t.x[0](t.filteredData.data.filter(function(t){return t.totalRow})[0].values[a])})},this.init(t)}var Q=J;function Z(t){var e=this;Y.apply(this,arguments),this.padding.top=50,this.padding.left=60,this.padding.right=220;var a=this.strokeWidth,i=this.strokeWidthHighlight;this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.commonRender(t,e)&&(this.height=P.max([300,.5*this.width]),this.svg.transition().duration(this.duration).attr("height",this.padding.top+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.padding.left+this.width+this.padding.right),this.setScales(),this.drawLines(),this.drawAxis(),this.drawLabels(),this.drawInfobox(),this.drawSource("Statistisk sentralbyrå (test)"))},this.created=function(){this.createInfoBoxElements()},this.line=P.line().x(function(t){return e.x(e.parseDate(t.date))}).y(function(t){return e.y(t[e.method])}),this.drawLabels=function(){var t=this,e=this.canvas.selectAll("text.label").data(this.data.data.filter(function(t){return t.avgRow||t.totalRow})),a=e.enter().append("text").attr("class","label");e.exit().remove(),e=e.merge(a),a.append("title"),e.text(function(e){return V.truncate(e.geography,t.padding.right-30)}).attr("x",this.width+10).attr("font-weight","bold").attr("y",function(e){return t.y(e.values[e.values.length-1][t.method])+5}),e.selectAll("title").data(function(t){return[t.geography]}).enter().append("title").html(function(t){return t})},this.createInfoBoxElements=function(){this.infobox=this.svg.append("g").attr("class","infobox"),this.infoboxBody=this.infobox.append("g").attr("class","infobox__body"),this.infoboxBody.append("rect").attr("class","background"),this.infoboxHead=this.infobox.append("g").attr("class","infobox__head"),this.infoboxHead.append("rect").attr("class","background"),this.infoboxTitle=this.infoboxHead.append("text"),this.infoboxContent=this.infoboxBody.append("g").attr("class","infobox__content"),this.infoboxHeading=this.infoboxContent.append("text").attr("class","infobox__heading"),this.infoboxContent.append("rect").attr("class","infobox__rule"),this.infoboxTable=this.infoboxContent.append("g").attr("class","infobox__table")},this.drawInfobox=function(){if(-1!==this.highlight){var t=P.timeFormat("%Y"),e=this.data.data[this.highlight].values,a=this.data.data[this.highlight].geography,i=e.reduce(function(t,e){return t.value>e.value?t:e}),n=e.reduce(function(t,e){return t.value<e.value?t:e});this.infobox.attr("transform","translate(".concat(this.padding.left+this.width,", ").concat(this.padding.top,")")).transition().duration(this.duration).attr("opacity",1),this.infoboxHead.select("rect.background").attr("height",30).attr("width",this.padding.right-22).attr("x",11).attr("fill",N.purple),this.infoboxTitle.attr("y",20).attr("x",21).attr("font-size",14).attr("font-weight",700).text(V.truncate(a,this.padding.right-55,14,700)).attr("fill",N.blue),this.infoboxBody.select("rect.background").attr("height",this.height-40).attr("y",20).attr("x",4).attr("width",this.padding.right-8).attr("fill",N.light_yellow).attr("stroke",N.purple),this.infoboxContent.attr("transform","translate(20, 60)"),this.infoboxHeading.attr("font-size",12).attr("font-weight",700).attr("text-transform","uppercase").attr("fill",N.purple).text(V.truncate(this.data.meta.heading,this.padding.right-90,12,700).toUpperCase()),this.infoboxTable.selectAll("*").remove(),this.infoboxTable.append("text").attr("y",50).text("Utvikling"),this.infoboxTable.append("text").attr("y",75).text("Utvikling (p.p.)"),this.infoboxTable.append("text").attr("y",100).text("Høyest (".concat(t(this.parseDate(i.date)),")")),this.infoboxTable.append("text").attr("y",125).text("Lavest (".concat(t(this.parseDate(n.date)),")")),this.infoboxTable.append("text").attr("font-weight",700).attr("y",50).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round((e[e.length-1].value-e[0].value)/e[0].value*100)+"%"),this.infoboxTable.append("text").attr("font-weight",700).attr("y",75).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*(e[e.length-1].ratio-e[0].ratio))/100),this.infoboxTable.append("text").attr("font-weight",700).attr("y",100).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*i.ratio)/100+"%"),this.infoboxTable.append("text").attr("font-weight",700).attr("y",125).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*n.ratio)/100+"%")}else this.infobox.attr("opacity",0)},this.drawLines=function(){var t=this,e=this.canvas.selectAll("path.row").data(this.data.data),n=e.enter().append("path").attr("class","row");e.exit().remove(),e=e.merge(n),e.attr("d",function(e){return t.line(e.values)}).attr("stroke",function(e,a){return t.highlight>=0&&a===t.highlight?N.yellow:t.highlight>=0&&a!==t.highlight?N.grey:e.totalRow?N.blue:e.avgRow?N.red:N.grey}).attr("stroke-width",3).attr("fill","none"),e.on("mouseover",function(){P.select(this).attr("stroke-width",i)}),e.on("mouseleave",function(){P.select(this).attr("stroke-width",a)}),e.on("click keyup",function(e,a,i){P.event&&"click"===P.event.type&&i[a].blur(),P.event&&"keyup"===P.event.type&&"Enter"!==P.event.key||(a===t.highlight?t.render(t.data,{method:t.method,highlight:-1}):t.render(t.data,{method:t.method,highlight:a}))}).attr("tabindex",0)},this.setScales=function(){var t=this;this.y.max=1.1*P.max(this.data.data.map(function(e){return P.max(e.values.map(function(e){return e[t.method]}))})),this.y.min=P.min(this.data.data.map(function(e){return P.min(e.values.map(function(e){return e[t.method]}))}))/1.2,this.x=P.scaleTime().domain([P.timeMonth.offset(this.parseDate(this.data.data[0].values[0].date),-1),this.parseDate(this.data.data[0].values[this.data.data[0].values.length-1].date)]).range([0,this.width]),this.y=P.scaleLinear().domain([this.y.min,this.y.max]).range([this.height,0])},this.drawAxis=function(){this.yAxis.call(P.axisLeft(this.y).ticks(this.height/30)),this.xAxis.call(P.axisBottom(this.x).ticks(this.width/90)).attr("transform","translate(0, ".concat(this.height,")"))},this.init(t)}var tt=Z;function et(t){var e=this;Y.apply(this,arguments),this.padding.top=130,this.padding.left=60,this.padding.right=220;var a=P.line().x(function(t){return e.x(e.parseDate(t.date))}).y(function(t){return e.y(t[e.method])});this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.commonRender(t,e)&&(this.heading.attr("y",90).text(this.data.meta.heading[this.series]),this.height=400,this.svg.transition().duration(this.duration).attr("height",this.padding.top+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.padding.left+this.width+this.padding.right),this.setScales(),this.drawAxis(),this.drawLines(),this.drawTabs(),this.drawLabels(),this.drawInfobox(),this.drawSource("Statistisk sentralbyrå (test)"))},this.created=function(){this.tabs=this.svg.insert("g").attr("class","tabs").attr("transform","translate(0, 20)"),this.tabs.append("rect").attr("class","rule"),this.createInfoBoxElements()},this.createInfoBoxElements=function(){this.infobox=this.svg.append("g").attr("class","infobox"),this.infoboxBody=this.infobox.append("g").attr("class","infobox__body"),this.infoboxBody.append("rect").attr("class","background"),this.infoboxHead=this.infobox.append("g").attr("class","infobox__head"),this.infoboxHead.append("rect").attr("class","background"),this.infoboxTitle=this.infoboxHead.append("text"),this.infoboxContent=this.infoboxBody.append("g").attr("class","infobox__content"),this.infoboxHeading=this.infoboxContent.append("text").attr("class","infobox__heading"),this.infoboxContent.append("rect").attr("class","infobox__rule"),this.infoboxTable=this.infoboxContent.append("g").attr("class","infobox__table")},this.drawInfobox=function(){var t=this;if(-1!==this.highlight){var e=P.timeFormat("%Y"),a=this.data.data[this.highlight].values.filter(function(e,a){return a===t.series})[0],i=this.data.data[this.highlight].geography,n=this.data.data.reduce(function(t,e){return t.value>e.value?t:e}),r=this.data.data.reduce(function(t,e){return t.value<e.value?t:e});this.infobox.attr("transform","translate(".concat(this.padding.left+this.width,", ").concat(this.padding.top,")")).transition().duration(this.duration).attr("opacity",1),this.infoboxHead.select("rect.background").attr("height",30).attr("width",this.padding.right-22).attr("x",11).attr("fill",N.purple),this.infoboxTitle.attr("y",20).attr("x",21).attr("font-size",14).attr("font-weight",700).text(V.truncate(i,this.padding.right-55,14,700)).attr("fill",N.blue),this.infoboxBody.select("rect.background").attr("height",this.height-40).attr("y",20).attr("x",4).attr("width",this.padding.right-8).attr("fill",N.light_yellow).attr("stroke",N.purple),this.infoboxContent.attr("transform","translate(20, 60)"),this.infoboxHeading.attr("font-size",12).attr("font-weight",700).attr("text-transform","uppercase").attr("fill",N.purple).text(V.truncate("".concat(this.data.meta.series[this.series].heading," (").concat(this.data.meta.series[this.series].subheading,")"),this.padding.right-90,12,700).toUpperCase()),this.infoboxTable.selectAll("*").remove(),this.infoboxTable.append("text").attr("y",50).text("Utvikling"),this.infoboxTable.append("text").attr("y",75).text("Utvikling (p.p.)"),this.infoboxTable.append("text").attr("y",100).text("Høyest (".concat(e(this.parseDate(n.date)),")")),this.infoboxTable.append("text").attr("y",125).text("Lavest (".concat(e(this.parseDate(r.date)),")")),this.infoboxTable.append("text").attr("font-weight",700).attr("y",50).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round((a[a.length-1].value-a[0].value)/a[0].value*100)+"%"),this.infoboxTable.append("text").attr("font-weight",700).attr("y",75).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*(a[a.length-1].ratio-a[0].ratio))/100),this.infoboxTable.append("text").attr("font-weight",700).attr("y",100).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*n.ratio)/100+"%"),this.infoboxTable.append("text").attr("font-weight",700).attr("y",125).attr("x",this.padding.right-40).attr("text-anchor","end").text(Math.round(1e4*r.ratio)/100+"%")}else this.infobox.attr("opacity",0)},this.drawTabs=function(){var t=this;this.tabs.select("rect.rule").attr("height",1).attr("width",this.width+this.padding.left+this.padding.right).attr("fill",N.purple).attr("opacity",.2).attr("y",40);var e=this.tabs.selectAll("g.tab").data(this.data.meta.series),a=e.enter().append("g").attr("class","tab");a.append("rect").attr("class","bar").attr("height",4).attr("width",this.tabWidth).attr("y",37).attr("fill",N.blue),a.append("text").attr("class","heading").attr("font-size",16).attr("y",5),a.append("text").attr("class","subHeading").attr("font-size",12).attr("y",20),a.append("rect").attr("class","tabOverlay").attr("width",this.tabWidth).attr("height",60).attr("opacity",0).attr("y",-20),e.exit().remove(),e=e.merge(a),e.attr("transform",function(e,a){return"translate(".concat(a*(t.tabWidth+t.tabGap),", 0)")}),e.select("text.heading").attr("font-weight",function(e,a){return t.series===a?"500":"400"}).text(function(t){return t.heading}),e.select("text.subHeading").attr("font-weight",function(e,a){return t.series===a?"500":"400"}).text(function(t){return t.subheading}),e.select("rect.tabOverlay").on("click keyup",function(e,a){P.event&&"keyup"===P.event.type&&"Enter"!==P.event.key||t.render(t.data,{method:t.method,series:a})}).attr("tabindex",0),e.select("rect.bar").attr("opacity",function(e,a){return t.series===a?1:0})},this.drawLabels=function(){var t=this,e=function(){return t.highlight>=0?t.data.data.filter(function(e,a){return a===t.highlight}):t.data.data.filter(function(t){return t.avgRow||t.totalRow})}(),a=this.canvas.selectAll("text.label").data(e),i=a.enter().append("text").attr("class","label");a.exit().remove(),a=a.merge(i),i.append("title"),a.text(function(e){return V.truncate(e.geography,t.padding.right-30)}).attr("x",this.width+5).attr("font-weight","bold").transition().duration(this.duration).attr("y",function(e){return t.y(e.values[t.series][e.values[t.series].length-1][t.method])+5}),a.selectAll("title").data(function(t){return[t.geography]}).enter().append("title").html(function(t){return t})},this.drawLines=function(){var t=this,e=this.strokeWidth,i=this.strokeWidthHighlight,n=this.canvas.selectAll("path.row").data(this.data.data),r=n.enter().append("path").attr("class","row");n.exit().remove(),n=n.merge(r),n.attr("stroke",function(e,a){return t.highlight>=0&&a===t.highlight?N.yellow:t.highlight>=0&&a!==t.highlight?N.grey:e.totalRow?N.blue:e.avgRow?N.red:N.grey}).attr("stroke-width",this.strokeWidth).attr("fill","none").transition().duration(this.duration).attr("d",function(e){return a(e.values[t.series])}),n.on("mouseover",function(){P.select(this).attr("stroke-width",i)}),n.on("mouseleave",function(){P.select(this).attr("stroke-width",e)}),n.on("click keyup",function(e,a,i){P.event&&"keyup"===P.event.type&&"Enter"!==P.event.key||(P.event&&"click"===P.event.type&&i[a].blur(),a===t.highlight?t.render(t.data,{method:t.method,series:t.series,highlight:-1}):t.render(t.data,{method:t.method,series:t.series,highlight:a}))}).attr("tabindex",0)},this.setScales=function(){var t=this;this.y.max=1.05*P.max(this.data.data.map(function(e){return P.max(e.values[t.series].map(function(e){return e[t.method]}))})),this.y.min=P.min(this.data.data.map(function(e){return P.min(e.values[t.series].map(function(e){return e[t.method]}))}))/1.05,this.x=P.scaleTime().domain([this.parseDate(this.data.data[0].values[0][0].date),this.parseDate(this.data.data[0].values[this.series][this.data.data[0].values[this.series].length-1].date)]).range([0,this.width]),this.y=P.scaleLinear().domain([this.y.min,this.y.max]).range([this.height,0])},this.drawAxis=function(){this.yAxis.transition().duration(this.duration).call(P.axisLeft(this.y).ticks(this.height/30)),this.xAxis.attr("transform","translate(0, ".concat(this.height,")")).transition().duration(this.duration).call(P.axisBottom(this.x).ticks(this.width/110))},this.init(t)}var at=et;function it(t){var e=this;Y.apply(this,arguments),this.padding={top:50,right:20,bottom:1,left:0},this.height=0,this.height2=100,this.width=1e3,this.paddingUpperLeft=160,this.paddingLowerLeft=300,this.yGutter=130,this.y=P.scaleLinear(),this.handle;var a,i,n=[0,119];this.age=P.scaleLinear().domain(n);var r=P.formatDefaultLocale({decimal:",",thousands:"",grouping:[3],currency:["","NOK"]}),s=r.format(".1%"),o=r.format(",.0f");this.sortData=function(t){var e=this;return t=t.sort(function(t,a){var i=P.sum(t.values.filter(function(t,e){return e>=n[0]&&e<=n[1]}).map(function(t){return t[e.method]})),r=P.sum(a.values.filter(function(t,e){return e>=n[0]&&e<=n[1]}).map(function(t){return t[e.method]}));return r-i}),t=t.sort(function(t,e){return t.avgRow-e.avgRow}),t=t.sort(function(t,e){return t.totalRow-e.totalRow}),t},this.render=function(t,e){var r=this;if(this.commonRender(t,e)&&(this.data.data=this.sortData(this.data.data),t.data)){l.extent([[0,0],[this.width-this.paddingUpperLeft,this.height2]]),h.extent([[0,0],[this.width-this.paddingUpperLeft,19]]),this.age.range([0,this.width-this.paddingUpperLeft]),this.svg.attr("height",this.padding.top+this.height2+this.yGutter+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.padding.left+this.width+this.padding.right),e.range&&(n=JSON.parse(e.range),i.transition().duration(this.duration).call(l.move,n.map(this.age)),a.transition().duration(this.duration).call(h.move,n.map(this.age)));var c=this.getMaxAccumulated(),d=this.getMax();this.y.domain([0,d]).range([this.height2,0]),this.x.domain([0,c]).range([0,this.width-this.paddingLowerLeft]),this.upperYAxis.transition().duration(this.duration).call(P.axisLeft(this.y).ticks(4).tickFormat(function(t){return"ratio"==r.method?s(t):o(t)})),this.upperXAxis.transition().duration(this.duration).call(P.axisBottom(this.age).ticks((this.width-this.paddingUpperLeft)/100).tickFormat(function(t){return t+" år"})),this.lowerXAxis.transition().duration(this.duration).call(P.axisTop(this.x).tickFormat(function(t){return"ratio"==r.method?s(t):o(t)}).ticks((this.width-this.paddingLowerLeft)/70)),"resize"===e.event&&this.brushed(this),this.drawRows(),this.drawLines(),this.drawSource("Statistisk sentralbyrå (test)")}},this.brushed=function(t){var e;P.event?(e=P.event.selection||t.age.range(),n=e.map(function(e){return Math.round(t.age.invert(e))})):e=n.map(t.age),i.call(l),a.call(h),P.event&&null===P.event.selection&&(a.transition().duration(this.duration).call(h.move,t.age.range()),i.transition().duration(this.duration).call(l.move,t.age.range())),P.selectAll("rect.selection").attr("x",e[0]).attr("opacity",1).attr("width",e[1]-e[0]),P.selectAll(".handle--e").attr("width",21).attr("x",e[1]),P.selectAll(".handle--w").attr("width",21).attr("x",e[0]-21),t.handle.attr("transform",function(t){return"e"===t.type?"translate(".concat(e[1],", -9)"):"translate(".concat(e[0]-21,", -9)")}),t.render(t.data,{method:t.method})},this.line=P.line().curve(P.curveBasis).x(function(t,a){return e.age(a)}).y(function(t){return e.y(t[e.method])});var l=P.brushX().on("brush end",function(){e.brushed(e)}),h=P.brushX().on("brush end",function(){e.brushed(e)});this.drawHandles=function(){this.handle=a.selectAll("path.handle").data([{type:"w"},{type:"e"}]).enter().append("g").attr("class","handleIcon").attr("transform","translate(0, -9)"),this.handle.append("path").attr("fill",N.purple).style("pointer-events","none").attr("d",function(t){return"e"===t.type?"M0 0h11c6 0 10 4 10 10v17c0 6-4 10-10 10H0V0z":"M21 0H10C4 0 0 4 0 10v17c0 6 4 10 10 10h11V0z"}),this.handle.append("rect").style("pointer-events","none").attr("height",11).attr("width",1).attr("x",6).attr("y",13).attr("fill","white").attr("fill-opacity","0.75"),this.handle.append("rect").style("pointer-events","none").attr("height",11).attr("width",1).attr("x",10).attr("y",13).attr("fill","white").attr("fill-opacity","0.75"),this.handle.append("rect").style("pointer-events","none").attr("height",11).attr("width",1).attr("x",14).attr("y",13).attr("fill","white").attr("fill-opacity","0.75")},this.created=function(){this.upper=this.canvas.append("g").attr("class","upper"),this.middle=this.canvas.append("g").attr("class","middle").attr("transform","translate(0, ".concat(this.height2+40,")")),this.lower=this.canvas.append("g").attr("class","lower").attr("transform","translate(0, ".concat(this.height2+this.yGutter,")")),this.lower.append("text").attr("class","xAxis-title").attr("font-size",12).attr("font-weight",700).attr("fill",N.purple).attr("transform","translate(".concat(this.paddingLowerLeft,", ").concat(-28,")")),i=this.upper.append("g").attr("class","brush").attr("transform","translate(".concat(this.paddingUpperLeft,", 0)")).call(l),i.select(".selection").attr("fill",N.yellow).attr("stroke",N.yellow).attr("stroke-width",2).attr("stroke-opacity",1).attr("fill-opacity",.15),a=this.middle.append("g").attr("class","brush").attr("transform","translate(".concat(this.paddingUpperLeft,", 0)")).call(h),a.select(".selection").attr("fill",N.yellow).attr("fill-opacity",1),a.select(".overlay").attr("stroke",N.purple).attr("rx",6),this.upperXAxis=this.upper.append("g").attr("class","axis x").attr("transform","translate(".concat(this.paddingUpperLeft,", ").concat(this.height2,")")),this.upperYAxis=this.upper.append("g").attr("class","axis y").attr("transform","translate(".concat(this.paddingUpperLeft,", 0)")),this.lowerXAxis=this.lower.append("g").attr("class","axis x").attr("transform","translate(".concat(this.paddingLowerLeft,", 0)")),this.drawHandles(),i.transition().duration(this.duration).call(l.move,[0,50].map(this.age)),a.transition().duration(this.duration).call(h.move,[0,50].map(this.age))},this.drawRows=function(){var t=this,e=this.lower.selectAll("g.row").data(this.data.data),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),a.append("rect").attr("class","rowFill").attr("fill",N.purple).attr("height",this.rowHeight).attr("width",this.width),a.append("text").attr("class","geography").attr("fill",N.purple).attr("x",10).attr("y",this.rowHeight/2+7),a.append("text").attr("class","value").attr("y",this.rowHeight/2+7).attr("fill",N.purple).attr("x",this.paddingLowerLeft-40).attr("text-anchor","end"),a.append("rect").attr("class","bar").attr("height",this.barHeight),a.append("rect").attr("class","divider").attr("fill",N.purple).attr("width",this.width).attr("height",1).attr("y",this.rowHeight),e.select("rect.rowFill").attr("width",this.width),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.05:0}),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(t){return t.geography}),e.select("text.value").text(function(e){var a=P.sum(e.values.filter(function(t,e){return e>=n[0]&&e<=n[1]}).map(function(e){return e[t.method]}));return"ratio"==t.method?s(a):o(a)}),e.select("rect.rowFill").attr("width",this.padding.left+this.width+this.padding.right),e.select("rect.divider").attr("width",this.padding.left+this.width+this.padding.right),e.select("rect.bar").transition().duration(this.duration).attr("width",function(e){return"value"==t.method&&(e.avgRow||e.totalRow)?0:t.x(P.sum(e.values.filter(function(t,e){return e>=n[0]&&e<=n[1]}).map(function(e){return e[t.method]})))}).attr("x",this.paddingLowerLeft).attr("y",(this.rowHeight-this.barHeight)/2+1).attr("fill",function(t){return t.totalRow||t.avgRow?N.purple:N.blue}),this.lower.select("text.xAxis-title").text(function(){return"ratio"===t.method&&n[1]-n[0]>=1?"Andel av befolkningen mellom ".concat(n[0]," og ").concat(n[1]," år"):"ratio"===t.method&&n[1]-n[0]===0?"Andel av befolkningen som er ".concat(n[0]," år"):"ratio"!==t.method&&n[1]-n[0]>=1?"Størrelse av befolkningen mellom ".concat(n[0]," og ").concat(n[1]," år"):"ratio"!==t.method&&n[1]-n[0]===0?"Størrelse av befolkningen på ".concat(n[0]," år"):void 0})},this.drawLines=function(){var t=this,e=this.upper.selectAll("path.line").data(this.data.data.filter(function(e){return"ratio"==t.method?e:!e.avgRow&&!e.totalRow})),a=e.enter().append("path").attr("class","line").attr("fill","none").attr("transform","translate(".concat(this.paddingUpperLeft,", 0)")).attr("opacity",0);e.exit().transition().duration(this.duration).attr("opacity",0).remove(),e=e.merge(a),e.transition().duration(this.duration).attr("opacity",1).attr("d",function(e){return t.line(e.values)}).attr("stroke-width",function(t){return t.avgRow||t.totalRow?3:2}).attr("stroke",function(t){return t.avgRow||t.totalRow?N.purple:N.blue}).attr("stroke-opacity",function(t){return t.avgRow||t.totalRow?1:.5})},this.getMaxAccumulated=function(){var t=this;return 1.05*P.max(this.data.data.filter(function(e){return"ratio"==t.method?e:!e.totalRow&&!e.avgRow}).map(function(e){return P.sum(e.values.filter(function(t,e){return e>=n[0]&&e<=n[1]}).map(function(e){return e[t.method]}))}))},this.getMax=function(){var t=this;return 1.05*P.max(this.data.data.filter(function(e){return"ratio"==t.method?e:!e.totalRow&&!e.avgRow}).map(function(e){return P.max(e.values.map(function(e){return e[t.method]}))}))},this.init(t)}var nt=it;function rt(t){var e=this;Y.apply(this,arguments),this.padding.top=70,this.padding.bottom=50,this.padding.left=300,this.padding.right=55,this.y=P.scaleLinear(),this.x=P.scaleLinear(),this.selected=null,this.list,this.pyramid,this.gutter=100,this.yAxis=[],this.selected,this.render=function(t,e){this.commonRender(t,e)&&(this.selected=null==e.selected||void 0==e.selected?this.data.data.findIndex(function(t){return t.avgRow||t.totalRow}):e.selected,this.height=400,this.svg.transition().duration(this.duration).attr("height",this.padding.top+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.padding.left+this.width+this.padding.right),this.drawAxis(),this.drawPyramid(),this.drawList(),this.drawSource("Statistisk sentralbyrå (test)"))},this.created=function(){this.list=this.svg.append("g").attr("class","list").attr("transform","translate(3, ".concat(this.padding.top,")")),this.list.append("text").text("Velg delbydel").attr("font-size",12).style("text-transform","uppercase").attr("font-weight",700).attr("fill",N.purple).attr("transform","translate(10, -16)"),this.canvas.selectAll("*").remove(),this.pyramid=this.canvas.append("g").attr("class","pyramid"),this.yAxis=this.canvas.selectAll("g.axis.y").data([{type:"left"},{type:"right"},{type:"lines"}]).enter().append("g"),this.xAxis=this.canvas.append("g").attr("class","axis x").attr("transform","translate(0, ".concat(this.height,")")),this.yAxis.attr("class",function(t){return"axis y axis-".concat(t.type)}),this.canvas.append("g").attr("class","yAxis-title").attr("transform","translate(-50, ".concat(this.height/2,")")).append("text").attr("font-size",12).attr("font-weight",700).attr("fill",N.purple).text("Alder").attr("text-anchor","middle").attr("transform","rotate(-90)"),this.canvas.append("text").attr("class","xAxis-title").attr("font-size",12).attr("font-weight",700).attr("fill",N.purple).attr("text-anchor","middle").attr("transform","translate(".concat(this.width/2,", ").concat(this.height+36,")")).text("Folkemengde")},this.drawList=function(){var t=this,e=this.selected,a=this.list.selectAll("g.row").data(this.data.data),i=a.enter().append("g").attr("class","row");a.exit().remove(),a=a.merge(i),i.append("rect").attr("class","fill").attr("width",this.padding.left-this.gutter).attr("height",this.rowHeight).attr("fill",N.blue).style("cursor","pointer").attr("rx",3),i.append("text").attr("class","label"),a.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}).on("click keyup",function(e,a,i){P.event&&"keyup"===P.event.type&&"Enter"!==P.event.key||(P.event&&"click"===P.event.type&&i[a].blur(),t.render(t.data,{selected:a}))}).attr("tabindex",0),a.select("rect.fill").attr("fill-opacity",function(e,a){return a==t.selected?1:0}).on("mouseenter",function(t,a){a!=e&&P.select(this).attr("fill-opacity",.15)}).on("mouseleave",function(t,a){a!=e&&P.select(this).attr("fill-opacity",0)}),a.select("text.label").text(function(t){return t.geography}).attr("y",this.rowHeight/2+5).attr("x",10).attr("font-weight",function(t){return t.totalRow||t.avgRow?700:400}).attr("fill",N.purple).style("pointer-events","none")},this.area=P.area().curve(P.curveStep).x0(function(){return e.x(0)}).x1(function(t){return"Kvinne"==t.gender?e.x(t.value):e.x(-t.value)}).y(function(t,a){return e.y(a)}),this.drawPyramid=function(){var t=this,e=["Mann","Kvinne"].map(function(e){return t.data.data[t.selected].values.map(function(t){return{gender:e,value:t[e]}})}),a=this.pyramid.selectAll("g.gender").data(e),i=a.enter().append("g").attr("class","gender");a.exit().remove(),a=a.merge(i),i.append("text").datum(function(t){return t}).attr("transform","translate(".concat(this.width/2,", 23)")).attr("x",function(t,e){return 0===e?-20:20}),i.append("path").datum(function(t){return t}),a.select("text").text(function(t){return t[0].gender}).attr("text-anchor",function(t,e){return 0===e?"end":"start"}).attr("font-size",16).attr("font-weight",700).attr("fill",N.purple).transition().duration(this.duration).attr("transform","translate(".concat(this.width/2,", 23)")).attr("x",function(t,e){return 0===e?-20:20}),a.select("path").attr("fill",function(t){return"Kvinne"==t[0].gender?N.red:N.positive}).transition().duration(this.duration).attr("d",this.area)},this.drawAxis=function(){var t=this,e=P.max(this.data.data[this.selected].values.map(function(t){return t.value}));this.y.range([this.height,0]).domain([0,120]),this.x.range([0,this.width]).domain([-e,e]),this.xAxis.attr("transform","translate(0, ".concat(this.height,")")).transition().duration(this.duration).call(P.axisBottom(this.x).ticks(this.width/65).tickFormat(function(t){return Math.abs(t)})),this.yAxis.each(function(e,a,i){if("left"==e.type)P.select(i[a]).call(P.axisLeft(t.y).tickFormat(function(t){return t+" år"})).selectAll("text");else if("right"==e.type)P.select(i[a]).call(P.axisRight(t.y).tickFormat(function(t){return t+" år"})).attr("transform","translate(".concat(t.width,", 0)")).selectAll("text");else if("lines"==e.type){var n=P.select(i[a]);n.call(P.axisLeft(t.y).tickSize(-t.width)),n.selectAll("text").remove(),n.selectAll(".tick").attr("opacity",.15),n.selectAll(".domain").remove()}}),this.canvas.select("text.xAxis-title").transition().duration(this.duration).attr("transform","translate(".concat(this.width/2,", ").concat(this.height+36,")")),this.canvas.select("g.yAxis-title").transition().duration(this.duration).attr("transform","translate(-50, ".concat(this.height/2,")"))},this.init(t)}var st=rt;function ot(t){Y.apply(this,arguments),this.padding={top:90,left:240,right:20,bottom:1},this.gapX=80,this.width=this.parentWidth()-this.padding.left-this.padding.right,this.width1=(this.width-this.gapX)/2,this.width2=(this.width-this.gapX)/2,this.x=P.scaleLinear(),this.x2=P.scaleLinear(),this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.commonRender(t,e)&&(t.data=t.data.map(function(t){if(t.low)return t;var e=[];return t.values.forEach(function(t,a){for(var i=0;i<t.value;i++)e.push(a)}),t.low=P.quantile(e,.25),t.median=P.quantile(e,.5),t.high=P.quantile(e,.75),t.mean=Math.round(100*P.mean(e))/100,t}),this.svg.attr("height",this.padding.top+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.width+this.padding.left+this.padding.right),this.width1=(this.width-this.gapX)/2,this.width2=(this.width-this.gapX)/2,this.x2.range([0,this.width2]).domain([0,70]),this.x2Axis.transition().duration(this.duration).call(P.axisTop(this.x2).tickFormat(function(t){return"".concat(t," år")}).ticks(this.width2/60)).attr("transform","translate(".concat(this.width1+this.gapX,")")),this.x.range([0,this.width1]).domain([P.min(this.data.data.map(function(t){return t.mean}))/1.05,1.05*P.max(this.data.data.map(function(t){return t.mean}))]),this.xAxis.transition().duration(this.duration).call(P.axisTop(this.x).tickFormat(function(t){return"".concat(t," år")}).ticks(this.width2/60)),this.canvas.select("text.label-median").transition().duration(this.duration).attr("x",this.width1+this.gapX+this.width2/2),this.canvas.select("text.label-mean").transition().duration(this.duration).attr("x",this.width1/2),this.drawRows(),this.drawSource("Statistisk sentralbyrå (test)"))},this.created=function(){this.canvas.append("text").attr("class","label-median").attr("font-size",13).attr("y",-40).attr("x",this.width1+this.gapX+this.width2/2).attr("text-anchor","middle").text("Aldersfordeling og medianalder"),this.canvas.append("text").attr("class","label-mean").attr("font-size",13).attr("y",-40).attr("x",this.width1/2).attr("text-anchor","middle").text("Gjennomsnittsalder")},this.initRowElements=function(t){var e=this;t.attr("transform",function(t,a){return"translate(0, ".concat(a*e.rowHeight,")")}),t.append("rect").attr("class","rowFill").attr("fill",N.purple).attr("height",this.rowHeight).attr("x",-this.padding.left).attr("width",this.width+this.padding.left+this.padding.right),t.append("rect").attr("class","divider").attr("fill",N.purple).attr("x",-this.padding.left).attr("width",this.width+this.padding.left+this.padding.right).attr("height",1).attr("y",this.rowHeight),t.append("text").attr("class","geography").attr("fill",N.purple).attr("y",this.rowHeight/2+6).attr("x",10-this.padding.left),t.append("rect").attr("class","box").attr("fill",N.purple).attr("stroke",N.purple).attr("stroke-width",1).attr("fill-opacity",.2).attr("rx",2).attr("shape-rendering","geometricPrecision").attr("height",this.barHeight).attr("x",function(t){return e.gapX+e.width1+e.x2(t.low)}).attr("y",(this.rowHeight-this.barHeight)/2),t.append("text").attr("class","median-value").attr("text-anchor","start").attr("font-size",12).attr("font-weight",700).attr("y",this.rowHeight/2+5),t.append("rect").attr("class","median-stroke").attr("fill",N.purple).attr("height",this.rowHeight).attr("width",3).attr("shape-rendering","geometricPrecision").attr("transform","translate(-1.5, 0)").attr("y",0).attr("x",this.gapX+this.width1),t.append("text").attr("class","mean-value").attr("text-anchor","start").attr("font-size",12).attr("font-weight",700).attr("y",this.rowHeight/2+5),t.append("rect").attr("class","mean-stroke").attr("fill",N.purple).attr("height",this.rowHeight).attr("width",3).attr("shape-rendering","geometricPrecision").attr("transform","translate(-1.5, 0)").attr("y",0)},this.drawRows=function(){var t=this,e=this.canvas.selectAll("g.row").data(this.data.data),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),this.initRowElements(a),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.05:0}),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.transition().duration(this.duration).attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(e){return V.truncate(e.geography,t.padding.left)}),e.select("text.median-value").text(function(t){return t.median}).transition().duration(this.duration).attr("x",function(e){return t.gapX+t.width1+t.x2(e.median)+6}),e.select("text.mean-value").text(function(t){return t.mean}).transition().duration(this.duration).attr("x",function(e){return t.x(e.mean)+6}),e.select("rect.mean-stroke").transition().duration(this.duration).attr("x",function(e){return t.x(e.mean)}),e.select("rect.median-stroke").transition().duration(this.duration).attr("x",function(e){return t.gapX+t.width1+t.x2(e.median)}),e.select("rect.box").transition().duration(this.duration).attr("x",function(e){return t.gapX+t.width1+t.x2(e.low)}).attr("width",function(e){return t.x2(e.high)-t.x2(e.low)}),e.select("rect.rowFill").transition().duration(this.duration).attr("width",this.width+this.padding.left+this.padding.right),e.select("rect.divider").transition().duration(this.duration).attr("width",this.width+this.padding.left+this.padding.right)},this.init(t)}var lt=ot;function ht(t){Y.apply(this,arguments),this.padding={top:90,left:0,right:20,bottom:1},this.paddingLeft=180,this.height=0,this.width=0,this.y=P.scaleLinear(),this.x=P.scaleBand();var e={up:"M1 2V1 0h12v12l-1 1h-1v-1h-1V5l-8 8H1l-1-1v-1l8-8H1V2z",down:"M11 1h2v12H1v-2l1-1h6L0 2V1l1-1h1l8 8V2l1-1z"};this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.commonRender(t,e)&&(this.svg.transition().duration(this.duration).attr("height",this.padding.top+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.padding.left+this.width+this.padding.right),this.x.domain(this.data.meta.series.map(function(t,e){return e})).range([this.paddingLeft,this.width]),this.drawRows(),this.drawColumnHeaders(),this.drawSource("Statistisk sentralbyrå (test)"))},this.created=function(){},this.initRowElements=function(t){t.append("rect").attr("class","rowFill").attr("fill",N.purple).attr("height",this.rowHeight).attr("width",this.width),t.append("rect").attr("class","divider").attr("fill",N.purple).attr("width",this.width).attr("height",1).attr("y",this.rowHeight),t.append("text").attr("class","geography").attr("fill",N.purple).attr("y",this.rowHeight/2+6).attr("x",10),t.append("text").attr("class","population__value").attr("text-anchor","end").attr("y",this.rowHeight/2+6),t.append("rect").attr("class","population__bar").attr("fill",N.purple).attr("height",this.barHeight).attr("y",(this.rowHeight-this.barHeight)/2),t.append("text").attr("class","density__value").attr("text-anchor","end").attr("y",this.rowHeight/2+6),t.append("rect").attr("class","density__bar").attr("fill",N.purple).attr("height",this.barHeight).attr("y",(this.rowHeight-this.barHeight)/2),t.append("text").attr("class","progress-year__value").attr("text-anchor","end").attr("y",this.rowHeight/2+6),t.append("g").attr("class","progress-year__arrow").append("path"),t.append("rect").attr("class","progress-year__bar").attr("height",this.barHeight).attr("y",(this.rowHeight-this.barHeight)/2),t.append("text").attr("class","progress-period__value").attr("text-anchor","end").attr("y",this.rowHeight/2+6),t.append("g").attr("class","progress-period__arrow").append("path"),t.append("path").attr("class","progress-year__line").attr("fill","none").attr("stroke",N.purple).attr("stroke-width",2)},this.renderPopulation=function(t){var e=P.scaleLinear().range([0,this.x.bandwidth()/2]).domain([0,P.max(this.data.data.filter(function(t){return!t.avgRow&&!t.totalRow&&t}).map(function(t){return t.values[0]}))]);t.select("text.population__value").attr("font-weight",function(t){return t.avgRow||t.totalRow?500:400}).text(function(t){return t.values[0]}).attr("x",this.x(0)+this.x.bandwidth()/2-8),t.filter(function(t){return!t.avgRow&&!t.totalRow}).select("rect.population__bar").attr("x",this.x(0)+this.x.bandwidth()/2).attr("width",function(t){return e(t.values[0])})},this.renderDensity=function(t){var e=P.scaleLinear().range([0,this.x.bandwidth()/2]).domain([0,P.max(this.data.data.map(function(t){return t.values[1]}))]);t.select("text.density__value").attr("font-weight",function(t){return t.avgRow||t.totalRow?500:400}).attr("x",this.x(1)+this.x.bandwidth()/2-8).text(function(t){return t.values[1]}),t.select("rect.density__bar").attr("x",this.x(1)+this.x.bandwidth()/2).attr("width",function(t){return e(t.values[1])})},this.renderProgressYear=function(t){var a=P.scaleLinear().range([0,this.x.bandwidth()/2]).domain([0,P.max(this.data.data.filter(function(t){return!t.avgRow&&!t.totalRow&&t}).map(function(t){return Math.abs(t.values[2])}))]);t.select("text.progress-year__value").attr("font-weight",function(t){return t.avgRow||t.totalRow?500:400}).attr("x",this.x(2)+this.x.bandwidth()/2-30).text(function(t){return t.values[2]}),t.filter(function(t){return!t.avgRow&&!t.totalRow}).select("rect.progress-year__bar").attr("fill",function(t){return t.values[2]>0?N.positive:N.red}).attr("x",this.x(2)+this.x.bandwidth()/2).attr("width",function(t){return a(Math.abs(t.values[2]))}),t.select("g.progress-year__arrow path").attr("fill",function(t){return t.values[2]>0?N.positive:N.red}).attr("transform","translate(".concat(this.x(2)+this.x.bandwidth()/2-22,", ").concat((this.rowHeight-this.barHeight)/2+4,")")).attr("d",function(t){return t.values[2]>0?e.up:e.down})},this.renderProgressPeriod=function(t,a,i){var n=P.min(t.values[3])/1.05,r=1.05*P.max(t.values[3]),s=P.select(i[a]),o=P.scaleLinear().range([0,this.x.bandwidth()/2]).domain([0,t.values[3].length]),l=P.scaleLinear().range([this.rowHeight,0]).domain([n,r]),h=P.line().x(function(t,e){return o(e)}).y(function(t){return l(t)});s.select("text.progress-period__value").attr("x",this.x(3)+this.x.bandwidth()/2-30).attr("font-weight",function(t){return t.avgRow||t.totalRow?500:400}).text(function(t){return t.values[3][t.values[3].length-1]-t.values[3][0]}),s.select("g.progress-period__arrow path").attr("fill",function(t){return t.values[3][t.values[3].length-1]-t.values[3][0]>0?N.positive:N.red}).attr("transform","translate(".concat(this.x(3)+this.x.bandwidth()/2-22,", ").concat((this.rowHeight-this.barHeight)/2+4,")")).attr("d",function(t){return t.values[3][t.values[3].length-1]-t.values[3][0]>0?e.up:e.down}),s.select("path.progress-year__line").attr("d",function(t){return h(t.values[3])}).attr("transform","translate(".concat(this.x(3)+this.x.bandwidth()/2,", 0)"))},this.drawRows=function(){var t=this,e=this.canvas.selectAll("g.row").data(this.data.data.sort(function(t,e){return t.avgRow-e.avgRow})),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),this.initRowElements(a),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.05:0}).attr("width",this.width),e.select("rect.divider").attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}).attr("width",this.width),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(e){return V.truncate(e.geography,t.paddingLeft)}),this.renderPopulation(e),this.renderDensity(e),this.renderProgressYear(e),e.each(function(e,a,i){return t.renderProgressPeriod(e,a,i)})},this.drawColumnHeaders=function(){var t=this,e=this.canvas.selectAll("g.column").data(this.data.meta.series),a=e.enter().append("g").attr("class","column");e.exit().remove(),e=e.merge(a),a.append("text").attr("class","heading").attr("font-size",14).attr("font-weight",400).attr("text-anchor","middle"),a.append("text").attr("class","subHeading").attr("font-size",12.5).attr("font-weight",400).attr("text-anchor","middle").attr("y",16),e.attr("transform",function(e,a){return"translate(".concat(t.x(a)+t.x.bandwidth()/2,", -30)")}),e.select("text.heading").text(function(t){return t.heading?t.heading:""}),e.select("text.subHeading").text(function(t){return t.subheading?t.subheading:""})},this.init(t)}var ct=ht;function dt(t){var e=this;Y.apply(this,arguments),this.padding={top:40,left:80,right:20,bottom:20},this.height1=400,this.gapX=50,this.gapY=70,this.height2=80,this.height=this.height1+this.gapY+this.height2,this.sidebarWidth=250,this.width1=750,this.width=this.width1+this.gapX+this.sidebarWidth,this.x=P.scaleTime(),this.y=P.scaleLinear(),this.y2=P.scaleLinear(),this.barWidth,this.sidebar,this.upper,this.lower,this.triggersContainer,this.selected,this.line=P.line().x(function(t){return e.x(e.parseDate(t.date))}).y(function(t){return e.y(t.population)}),this.render=function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.commonRender(t,a)&&(this.highlight=a.highlight||this.data.data.actual[this.data.data.actual.length-1].date,this.selected=this.data.data.actual.filter(function(t){return t.date===e.highlight})[0],this.width1=this.parentWidth()-this.padding.left-this.padding.right-this.gapX-this.sidebarWidth,this.width=this.width1+this.gapX+this.sidebarWidth,this.height=this.height1+this.gapY+this.height2,this.svg.transition().duration(this.duration).attr("height",this.padding.top+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.padding.left+this.width+this.padding.right),this.resetScales(),this.drawSidebar(),this.drawUpper(),this.drawLower(),this.drawTriggers(),this.drawSource("Statistisk sentralbyrå (test)"))},this.created=function(){this.canvas.selectAll("*").remove(),this.canvas.remove(),this.createSidebarElements(),this.createUpperElements(),this.createLowerElements(),this.triggersContainer=this.svg.append("g").attr("class","triggers")},this.createSidebarElements=function(){this.sidebar=this.svg.append("g").attr("class","sidebar");var t=this.sidebar.append("g").attr("class","section-year");t.append("rect").attr("class","section-year__bg").attr("width",88).attr("rx",4).attr("height",40).attr("fill",N.purple),t.append("text").attr("class","section-year__text").attr("fill","white").attr("y",30).attr("font-size",26).attr("font-weight",700).attr("text-anchor","middle").attr("x",44);var e=this.sidebar.append("g").attr("class","section-population").attr("transform","translate(0, 70)");e.append("rect").attr("class","divider"),e.append("text").attr("class","label").text("Befolkning"),e.append("text").attr("class","value");var a=this.sidebar.append("g").attr("class","section-change").attr("transform","translate(0, 140)");a.append("rect").attr("class","divider"),a.append("text").attr("class","label").text("Befolkningsvekst"),a.append("text").attr("class","value"),a.append("rect").attr("class","bar"),this.sidebar.selectAll("rect.divider").attr("height",2).attr("width",this.sidebarWidth).attr("fill",N.purple),this.sidebar.selectAll("text.value").attr("font-size",16).attr("y",26).attr("font-weight","700").attr("fill",N.purple).attr("text-anchor","end").attr("x",this.sidebarWidth).text("70"),this.sidebar.selectAll("text.label").attr("font-size",16).attr("font-weight","400").attr("y",26).attr("fill",N.purple)},this.createUpperElements=function(){this.upper=this.svg.append("g").attr("class","upper"),this.xAxis=this.upper.append("g").attr("class","axis x"),this.yAxis=this.upper.append("g").attr("class","axis y"),this.upper.append("path").attr("class","projection").attr("fill",N.blue),this.upper.append("path").attr("class","expected").attr("fill","none").attr("stroke",N.purple),this.upper.append("path").attr("class","valueLine").attr("fill","none").attr("stroke",N.purple).attr("stroke-width",3),this.upper.append("line").attr("class","currentDate").attr("stroke",N.purple).attr("opacity",.7).attr("stroke-width",1).style("stroke-dasharray","3,3"),this.upper.append("text").attr("class","populationTooltip").attr("font-size",12).attr("text-anchor","end").attr("transform","translate(-10, -3)"),this.upper.append("line").attr("class","highlightLine").attr("stroke-width",5).attr("stroke-opacity",.1).attr("stroke",N.yellow),this.upper.append("line").attr("class","highlightLine").attr("stroke-width",2).attr("stroke",N.yellow);var t=this.upper.append("g").attr("class","highlightContainer");t.append("rect").attr("class","highlightDateBox").attr("fill",N.yellow).attr("height",26).attr("width",48).attr("transform","translate(-24, 0)"),t.append("text").attr("class","highlightText").attr("fill",N.purple).attr("font-size",12).attr("font-weight",700).attr("y",18).attr("text-anchor","middle")},this.createLowerElements=function(){this.lower=this.svg.append("g").attr("class","lower"),this.lower.append("g").attr("class","bars"),this.lower.append("line").attr("class","zeroline").attr("stroke-width",1).attr("stroke",N.purple),this.y2Axis=this.lower.append("g").attr("class","axis y"),this.lower.append("text").attr("class","sectionHeading").attr("fill",N.purple).attr("font-weight",500).text("Befolkningsendring per år")},this.drawSidebar=function(){this.sidebar.attr("transform","translate(".concat(this.padding.left+this.width1+this.gapX,", ").concat(this.padding.top,")")),this.sidebar.select("text.section-year__text").text(this.formatYear(this.parseDate(this.selected.date))),this.sidebar.select("g.section-population text.value").text(this.selected.population),this.sidebar.select("g.section-change text.value").text(this.selected.change)},this.drawUpper=function(){var t=this;this.upper.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),this.xAxis.attr("transform","translate(0, ".concat(this.height1,")")),this.upper.select("text.highlightText").text(this.formatYear(this.parseDate(this.highlight))),this.upper.select("g.highlightContainer").attr("transform","translate(".concat(this.x(this.parseDate(this.highlight)),", ").concat(this.height1,")")),this.upper.select("text.populationTooltip").text(this.selected.population).attr("y",this.y(this.selected.population)).attr("x",this.x(this.parseDate(this.selected.date))),this.upper.selectAll("line.highlightLine").attr("x1",this.x(this.parseDate(this.highlight))).attr("x2",this.x(this.parseDate(this.highlight))).attr("y1",0).attr("y2",this.height1),this.upper.select("line.currentDate").attr("x1",this.x(new Date)).attr("x2",this.x(new Date)).attr("y1",0).attr("y2",this.height1),this.upper.select("path.valueLine").datum(this.data.data).attr("d",function(e){return t.line(e.actual)}),this.drawProjection()},this.drawLower=function(){var t=this;this.barWidth=this.x(this.parseDate("2018-01-01"))-this.x(this.parseDate("2017-01-01"))-1,this.lower.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top+this.height1+this.gapY,")")),this.lower.select("line.zeroline").attr("x1",0).attr("x2",this.width1).attr("y1",this.y2(0)).attr("y2",this.y2(0));var e=this.lower.select("g.bars").selectAll("rect.bar").data(this.data.data.actual),a=e.enter().append("rect").attr("class","bar");e.exit().remove(),e=e.merge(a),e.attr("width",this.barWidth).attr("x",function(e){return t.x(t.parseDate(e.date))-t.barWidth/2}).attr("height",function(e){return Math.abs(t.y2(0)-t.y2(e.change))}).attr("y",function(e){return e.change>0?t.y2(e.change):t.y2(0)}).attr("fill",function(e){return e.date===t.highlight?N.purple:e.change>0?N.blue:N.red}),this.lower.select("text.sectionHeading").attr("y",-5).attr("x",20)},this.drawProjection=function(){var t=this.data.data.actual[this.data.data.actual.length-1],e={x:this.x(this.parseDate(t.date)),y:this.y(t.population)},a={x:this.x(this.parseDate(this.data.data.projection.date)),y:this.y(this.data.data.projection.low)},i={x:this.x(this.parseDate(this.data.data.projection.date)),y:this.y(this.data.data.projection.expected)},n={x:this.x(this.parseDate(this.data.data.projection.date)),y:this.y(this.data.data.projection.high)},r="M".concat(e.x,",").concat(e.y," L").concat(a.x,",").concat(a.y," L").concat(n.x,",").concat(n.y,"z"),s="M".concat(e.x,",").concat(e.y," L").concat(i.x,",").concat(i.y);this.upper.select("path.projection").attr("d",r),this.upper.select("path.expected").attr("d",s)},this.drawTriggers=function(){var t=this;this.triggersContainer.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")"));var e=this.triggersContainer.selectAll("rect").data(this.data.data.actual),a=e.enter().append("rect");e.exit().remove(),e=e.merge(a),e.attr("width",this.barWidth+1).attr("height",this.height1+this.gapY+this.height2).attr("x",function(e){return t.x(t.parseDate(e.date))-t.barWidth/2}).style("cursor","pointer").on("mouseover",function(e){t.render(t.data,{highlight:e.date})}).on("click keyup",function(e,a,i){P.event&&"keyup"===P.event.type&&"Enter"!==P.event.key||(P.event&&"click"===P.event.type&&i[a].blur(),t.render(t.data,{highlight:e.date}))}).on("mouseover",function(){P.select(this).attr("fill-opacity",.03)}).on("mouseleave",function(){P.select(this).transition().duration(this.duration).duration(40).attr("fill-opacity",0)}).transition().duration(this.duration).duration(1e3).attr("fill-opacity",0).attr("tabindex",0)},this.resetScales=function(){var t=this,e=P.extent(this.data.data.actual.concat(this.data.data.projection).map(function(e){return t.parseDate(e.date)}));e[0]=P.timeYear.offset(e[0],-2);var a=P.min(this.data.data.actual.concat(this.data.data.projection).map(function(t){return t.population||t.low}))/1.5,i=1.15*P.max(this.data.data.actual.concat(this.data.data.projection).map(function(t){return t.population||t.high}));this.y2.range([this.height2,0]).domain(P.extent(this.data.data.actual.map(function(t){return t.change}).map(function(t,e){return 1==e?1.3*t:t}))),this.x.range([0,this.width1]).domain(e),this.y.range([this.height1,0]).domain([a,i]),this.xAxis.call(P.axisBottom(this.x).ticks(this.width1/60)),this.yAxis.call(P.axisLeft(this.y).ticks(this.height1/40)),this.y2Axis.call(P.axisLeft(this.y2).ticks(this.height2/20))},this.init(t)}var ut=dt,pt=[{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:-1,y:0}],gt=[[{x:-.9,y:.1},{x:-.8,y:0}],[{x:-.8,y:.2},{x:-.6,y:0}],[{x:-.7,y:.3},{x:-.4,y:0}],[{x:-.6,y:.4},{x:-.2,y:0}],[{x:-.5,y:.5},{x:0,y:0}],[{x:-.4,y:.6},{x:.2,y:0}],[{x:-.3,y:.7},{x:.4,y:0}],[{x:-.2,y:.8},{x:.6,y:0}],[{x:-.1,y:.9},{x:.8,y:0}],[{x:.1,y:.9},{x:-.8,y:0}],[{x:.2,y:.8},{x:-.6,y:0}],[{x:.3,y:.7},{x:-.4,y:0}],[{x:.4,y:.6},{x:-.2,y:0}],[{x:.5,y:.5},{x:0,y:0}],[{x:.6,y:.4},{x:.2,y:0}],[{x:.7,y:.3},{x:.4,y:0}],[{x:.8,y:.2},{x:.6,y:0}],[{x:.9,y:.1},{x:.8,y:0}],[{x:-.9,y:.1},{x:.9,y:.1}],[{x:-.8,y:.2},{x:.8,y:.2}],[{x:-.7,y:.3},{x:.7,y:.3}],[{x:-.6,y:.4},{x:.6,y:.4}],[{x:-.5,y:.5},{x:.5,y:.5}],[{x:-.4,y:.6},{x:.4,y:.6}],[{x:-.3,y:.7},{x:.3,y:.7}],[{x:-.2,y:.8},{x:.2,y:.8}],[{x:-.1,y:.9},{x:.1,y:.9}]];function ft(t){Y.apply(this,arguments),this.padding={top:70,bottom:70,left:200,right:105},this.width=400,this.height=Math.sqrt(this.width*this.width-this.width/2*(this.width/2)),this.y=P.scaleLinear(),this.x=P.scaleLinear(),this.selected=null,this.list,this.matrix,this.gutter=(this.parentWidth()-this.padding.left-this.width)/2,this.yAxis=[],this.max=0,this.dotContainer,this.lineContainer;var e=.3,a=.8,i=P.scaleLinear().range([0,this.width]).domain([-1,1]),n=P.scaleLinear().range([this.height,0]).domain([0,1]),r=P.line().x(function(t){return i(t.x)}).y(function(t){return n(t.y)});this.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.commonRender(t,e)&&(this.gutter=(this.parentWidth()-this.padding.left-400)/2,this.matrix.transition().duration(this.duration).attr("transform","translate(".concat(this.gutter,", 0)")),this.dotContainer.transition().duration(this.duration).attr("transform","translate(".concat(this.gutter,", 0)")),this.lineContainer.transition().duration(this.duration).attr("transform","translate(".concat(this.gutter,", 0)")),this.svg.transition().duration(this.duration).attr("height",500+this.sourceHeight).attr("width",this.parentWidth()),this.drawMatrix(),this.drawList(),this.updateAxisLabels(),this.drawLines(),this.drawSource("Statistisk sentralbyrå (test)"))},this.created=function(){this.list=this.svg.append("g").attr("class","list").attr("transform","translate(3, ".concat(this.padding.top,")")),this.list.append("text").text("Velg delbydel").attr("font-size",12).style("text-transform","uppercase").attr("font-weight",700).attr("fill",N.purple).attr("transform","translate(10, -16)"),this.canvas.selectAll("*").remove(),this.canvas.attr("transform","translate(".concat(this.padding.left+this.gutter,", ").concat(this.padding.top,")")),this.drawGrid(),this.lineContainer=this.canvas.append("g").attr("class","lineContainer"),this.dotContainer=this.canvas.append("g").attr("class","dotcontainer")},this.drawList=function(){var t=this,i=this.selected,n=this.dotContainer.selectAll("g"),r=this.list.selectAll("g.row").data(this.data.data),s=r.enter().append("g").attr("class","row");r.exit().remove(),r=r.merge(s),s.append("rect").attr("class","fill").attr("width",this.padding.left).attr("height",this.rowHeight).attr("fill",N.blue).style("cursor","pointer").attr("rx",3),s.append("text").attr("class","label"),r.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}).on("click keyup",function(e,a,i){P.event&&"keyup"===P.event.type&&"Enter"!==P.event.key||(P.event&&"click"===P.event.type&&i[a].blur(),t.selected===a?t.render(t.data,{selected:null}):t.render(t.data,{selected:a}))}).attr("tabindex",0),r.select("rect.fill").attr("fill-opacity",function(e,a){return a==t.selected?1:0}).on("mouseenter",function(t,e){e!=i&&(P.select(this).attr("fill-opacity",.25),n.filter(function(t,a){return e==a}).select("circle").attr("r",8).attr("fill",N.blue).attr("fill-opacity",1).attr("stroke-opacity",1))}).on("mouseleave",function(t,r){r!=i&&(P.select(this).attr("fill-opacity",0),n.filter(function(t,e){return r==e}).select("circle").attr("r",6).attr("fill",N.blue).attr("fill-opacity",e).attr("stroke-opacity",a))}),r.select("text.label").text(function(t){return t.geography}).attr("y",this.rowHeight/2+5).attr("x",10).attr("font-weight",function(t){return t.totalRow||t.avgRow?700:400}).attr("fill",N.purple).style("pointer-events","none")},this.drawGrid=function(){this.matrix=this.canvas.append("g").attr("class","matrix"),this.matrix.selectAll("text.label-1").data(s.filter(function(t,e){return e<9})).enter().append("text").text(function(t,e){return 10*(e+1)}).attr("text-anchor","end").style("font-size",13).style("font-weight","bold").attr("x",function(t){return i(t[1].x)-6}).attr("y",function(t){return n(t[1].y)+4}),this.matrix.selectAll("text.label-2").data(s.filter(function(t,e){return e>=9&&e<18})).enter().append("text").attr("class","label-2").attr("x",function(t){return i(t[1].x)+4}).attr("y",function(t){return n(t[1].y)+4}).attr("transform",function(t){return"rotate(300, ".concat(i(t[1].x),", ").concat(n(t[1].y),")")}).text(function(t,e){return 10*(e+1)}).attr("text-anchor","start").style("font-size",13).style("font-weight","bold"),this.matrix.selectAll("text.label-3").data(s.filter(function(t,e){return e>=18})).enter().append("text").attr("class","label-3").attr("x",function(t){return i(t[1].x)+4}).attr("y",function(t){return n(t[1].y)+4}).attr("transform",function(t){return"rotate(60, ".concat(i(t[1].x),", ").concat(n(t[1].y),")")}).text(function(t,e){return 10*(e+1)}).attr("text-anchor","start").style("font-size",13).style("font-weight","bold"),this.matrix.selectAll(".tickLine").data(s).enter().append("path").attr("class","tickLine").attr("stroke","black").attr("stroke-width",2).attr("d",function(t){return r(t)}),this.matrix.append("path").datum(pt).attr("d",r).attr("fill",N.light_grey),this.matrix.selectAll(".line").data(gt).enter().append("path").attr("class","line").attr("stroke-width",2).attr("stroke","white").attr("d",function(t){return r(t)}),this.matrix.append("path").datum(pt).attr("d",r).attr("stroke-width",2).attr("stroke","black").attr("fill","none"),this.matrix.append("text").attr("class","label2").text("% sand").attr("text-anchor","middle").style("font-size",15).style("font-weight","bold").attr("x",i(s[4][1].x)-12).attr("y",n(s[4][1].y)-40).attr("transform","rotate(300, ".concat(i(s[4][1].x),", ").concat(n(s[4][1].y),")")),this.matrix.append("text").attr("class","label3").text("% dirt").attr("text-anchor","middle").style("font-size",15).style("font-weight","bold").attr("x",i(s[13][1].x)-12).attr("y",n(s[13][1].y)-32).attr("transform","rotate(60, ".concat(i(s[13][1].x),", ").concat(n(s[4][1].y),")")),this.matrix.append("text").attr("class","label1").text("% water").attr("text-anchor","middle").style("font-size",15).style("font-weight","bold").attr("x",i(s[22][1].x)).attr("y",n(s[22][1].y)+42)},this.drawLines=function(){var t=this;if(null!==this.selected&&-1!==this.selected&&void 0!==this.selected){var e=this.dotContainer.selectAll("g").filter(function(e,a){return a==t.selected}),a=e.select("circle"),s=+e.attr("data-x"),o=+e.attr("data-y"),l=P.scaleLinear().range([-1,1]).domain([1,0]),h=[[{x:i.invert(s),y:n.invert(o)},{x:l(a.attr("data-0")),y:0}],[{x:i.invert(s),y:n.invert(o)},{x:a.attr("data-1")-1,y:a.attr("data-1")}],[{x:i.invert(s),y:n.invert(o)},{x:a.attr("data-2"),y:1-a.attr("data-2")}]],c=this.lineContainer.selectAll("path.lines").data(h);c.exit().remove();var d=c.enter().append("path").attr("class","lines");c=c.merge(d),c.attr("fill","none").attr("stroke","black").attr("stroke-width",2).style("pointer-events","none").transition().duration(this.duration).attr("opacity",1).attr("d",r)}else this.lineContainer.selectAll("path.lines").transition().duration(this.duration).attr("opacity",0)},this.drawMatrix=function(){var t=this,r=this.dotContainer.selectAll("g").data(this.data.data);r.exit().remove();var s=r.enter().append("g");s.append("circle"),r=r.merge(s),r.attr("transform",function(t){var e=n(t.values[1].ratio),a=i(t.values[2].ratio-t.values[0].ratio);return"translate(".concat(a,", ").concat(e,")")}).attr("data-x",function(t){return i(t.values[2].ratio-t.values[0].ratio)}).attr("data-y",function(t){return n(t.values[1].ratio)}),r.select("circle").attr("stroke-width",2).attr("data-0",function(t){return+t.values[0].ratio}).attr("data-1",function(t){return+t.values[1].ratio}).attr("data-2",function(t){return+t.values[2].ratio}).transition().duration(this.duration).attr("fill",function(e,a){return a===t.selected?N.purple:N.blue}).attr("r",function(e,a){return a===t.selected?9:6}).attr("fill-opacity",function(a,i){return i===t.selected?1:e}).attr("stroke-opacity",function(e,i){return i===t.selected?1:a}).attr("stroke",function(e,a){return a===t.selected?N.light_grey:N.purple})},this.updateAxisLabels=function(){this.matrix.select("text.label1").text("% ".concat(this.data.meta.series[0])),this.matrix.select("text.label2").text("% ".concat(this.data.meta.series[1])),this.matrix.select("text.label3").text("% ".concat(this.data.meta.series[2]))},this.getTick=function(t,e,a,r){var s=P.scaleLinear().domain([0,1]).range([0,this.height]),o=a*(Math.PI/180),l=s(r)*Math.cos(o),h=s(r)*Math.sin(o),c=i.invert(l+i(t)),d=n.invert(h+n(e));return[{x:t,y:e},{x:c,y:d}]};var s=[this.getTick(-.9,.1,180,.02),this.getTick(-.8,.2,180,.02),this.getTick(-.7,.3,180,.02),this.getTick(-.6,.4,180,.02),this.getTick(-.5,.5,180,.02),this.getTick(-.4,.6,180,.02),this.getTick(-.3,.7,180,.02),this.getTick(-.2,.8,180,.02),this.getTick(-.1,.9,180,.02),this.getTick(.1,.9,300,.02),this.getTick(.2,.8,300,.02),this.getTick(.3,.7,300,.02),this.getTick(.4,.6,300,.02),this.getTick(.5,.5,300,.02),this.getTick(.6,.4,300,.02),this.getTick(.7,.3,300,.02),this.getTick(.8,.2,300,.02),this.getTick(.9,.1,300,.02),this.getTick(.8,0,60,.02),this.getTick(.6,0,60,.02),this.getTick(.4,0,60,.02),this.getTick(.2,0,60,.02),this.getTick(0,0,60,.02),this.getTick(-.2,0,60,.02),this.getTick(-.4,0,60,.02),this.getTick(-.6,0,60,.02),this.getTick(-.8,0,60,.02)];this.init(t)}P.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})};var mt=ft;function vt(t){Y.apply(this,arguments),this.padding={top:90,left:240,right:20,bottom:58},this.x=P.scaleLinear(),this.bars,this.legendBox,this.colors=P.scaleOrdinal().domain([0,1,2,3]).range(["#C57066","#834B44","#838296","#4F4E6A"]),this.render=function(t){this.commonRender(t)&&(this.data.data=t.data.map(function(t){return t.values=t.values.map(function(t,e){return t<0?t:e<2?-1*t:t}),t}),this.svg.transition().duration(this.duration).attr("height",this.padding.top+this.height+this.padding.bottom+this.sourceHeight).attr("width",this.width+this.padding.left+this.padding.right),this.drawRows(),this.drawLegend(),this.drawSource("Statistisk sentralbyrå (test)"),this.canvas.select("line.zero").attr("y1",0).attr("y2",this.height).transition().duration(this.duration).attr("x1",this.x(0)).attr("x2",this.x(0)),this.canvas.select("text.label-min").attr("x",this.x(0)-15),this.canvas.select("text.label-max").attr("x",this.x(0)+15))},this.created=function(){this.legendBox=this.svg.append("g").attr("class","legend"),this.canvas.append("text").attr("class","label-min").attr("font-size",13).attr("y",-40).attr("text-anchor","end").text("Trangbodde husstander"),this.canvas.append("text").attr("class","label-max").attr("font-size",13).attr("y",-40).attr("text-anchor","start").text("Ikke trangbodde husstander"),this.bars=this.canvas.append("g").attr("class","bars"),this.canvas.append("line").attr("class","zero").attr("stroke-width",1.5).attr("stroke","black")},this.initRowElements=function(t){t.append("rect").attr("class","rowFill").attr("fill",N.purple).attr("height",this.rowHeight).attr("x",-this.padding.left).attr("width",this.width+this.padding.left),t.append("rect").attr("class","divider").attr("fill",N.purple).attr("x",-this.padding.left).attr("width",this.width+this.padding.left).attr("height",1).attr("y",this.rowHeight),t.append("text").attr("class","geography").attr("fill",N.purple).attr("y",this.rowHeight/2+6).attr("x",10-this.padding.left)},this.drawRows=function(){var t=this,e=this.canvas.selectAll("g.row").data(this.data.data),a=e.enter().append("g").attr("class","row");e.exit().remove(),e=e.merge(a),this.initRowElements(a),e.select("text.geography").attr("font-weight",function(t){return t.avgRow||t.totalRow?700:400}),e.select("rect.rowFill").transition().duration(this.duration).attr("width",this.padding.left+this.width+this.padding.right).attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.05:0}),e.select("rect.divider").transition().duration(this.duration).attr("width",this.padding.left+this.width+this.padding.right).attr("fill-opacity",function(t){return t.avgRow||t.totalRow?.5:.2}),e.attr("transform",function(e,a){return"translate(0, ".concat(a*t.rowHeight,")")}),e.select("text.geography").text(function(e){return V.truncate(e.geography,t.padding.left)});var i=P.stack().keys([1,0,2,3]).offset(P.stackOffsetDiverging)(this.data.data.map(function(t){return t.values})),n=1.1*P.min(i.map(function(t){return P.min(t.map(function(t){return t[0]}))})),r=1.1*P.max(i.map(function(t){return P.max(t.map(function(t){return t[1]}))}));this.x.domain([n,r]).range([0,this.width]),this.xAxis.call(P.axisTop(this.x).ticks(this.width/60).tickFormat(function(t){return 100*Math.abs(t)+"%"}));var s=this.bars.selectAll("g.series").data(i),o=s.enter().append("g").attr("class","series");s.exit().remove(),s=s.merge(o),s.attr("fill",function(e,a){return t.colors(a)});var l=s.selectAll("rect").data(function(t){return t}),h=l.enter().append("rect");l.exit().remove(),l=l.merge(h),l.attr("y",function(e,a){return a*t.rowHeight+(t.rowHeight-t.barHeight)/2}).attr("height",this.barHeight).transition().duration(this.duration).attr("x",function(e){return t.x(e[0])}).attr("width",function(e){return t.x(e[1])-t.x(e[0])})},this.drawLegend=function(){var t=this;this.legendBox.attr("transform","translate(0, ".concat(this.height+this.padding.top+this.padding.bottom/2-8,")"));var e=this.legendBox.selectAll("g.group").data(this.data.meta.series),a=e.enter().append("g").attr("class","group");e.exit().remove(),e=e.merge(a),a.append("rect").attr("height",16).attr("width",16).attr("rx",3).attr("fill",function(e,a){return 0===a?t.colors(1):1===a?t.colors(0):t.colors(a)}),a.append("text").attr("y",8),e.select("text").text(function(t){return t.heading}).attr("y",12).attr("x",20).attr("font-size",12),e.attr("transform",function(e,a){return"translate(".concat(a*((t.width+t.padding.left+t.padding.right)/4),", 0)")})},this.init(t)}var bt=vt,xt={data:function(){return{svg:!1,data:null,currentTemplate:!1,heading:"loading ...",showDropdown:!1,dropDownList:G}},watch:{settings:function(){this.draw()}},mounted:function(){this.draw()},methods:{draw:function(){var t=this,e=performance.now();if(this.currentTemplate!==this.settings.template)switch(this.showDropdown="d"===this.settings.template,this.settings.template){case"a":this.svg=new Q(this.$refs["svg"]);break;case"b":this.svg=new tt(this.$refs["svg"]);break;case"c":this.svg=new at(this.$refs["svg"]);break;case"d":this.svg=new nt(this.$refs["svg"]);break;case"e":this.svg=new st(this.$refs["svg"]);break;case"f":this.svg=new lt(this.$refs["svg"]);break;case"g":this.svg=new ct(this.$refs["svg"]);break;case"h":this.svg=new ut(this.$refs["svg"]);break;case"i":this.svg=new mt(this.$refs["svg"]);break;case"j":this.svg=new bt(this.$refs["svg"]);break;default:break}I["json"](this.settings.url).then(function(e){t.data=e;var a=performance.now();t.svg.render(t.data,{method:t.settings.method,range:"[0, 50]"});var i=performance.now(),n=i-a;n>100&&console.warn("SLOW RENDER:","Initial rendering of template",t.settings.template,"for",t.settings.id,"took",Math.round(n),"ms"),t.currentTemplate=t.settings.template});var a=performance.now(),i=a-e;i>300&&console.warn("SLOW LOAD:","Fetching data",this.settings.id,"took",Math.round(i),"ms")}},props:{settings:{type:Object,required:!0}}},yt=xt,wt=(a("8115"),Object(m["a"])(yt,F,O,!1,null,"0f0599a0",null));wt.options.__file="Graph.vue";var kt=wt.exports,_t={folkemengde:{name:"folkemengde",fremskriving:[{size:"large",tabs:[{active:!1,label:"Historisk",id:"folkemengde_utvikling_historisk",template:"h",url:"".concat(k(),"/mockDataH.json")},{active:!1,label:"Historisk (prosent)",id:"folkemengde_utvikling_historisk-prosent",template:"b",url:"".concat(k(),"/mockDataB.json")}]}],utvikling:[{size:"large",tabs:[{active:!1,label:"Historisk",id:"folkemengde_utvikling_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")},{active:!1,label:"Historisk (prosent)",id:"folkemengde_utvikling_historisk-prosent",template:"b",url:"".concat(k(),"/mockDataB.json")}]}],nokkeltall:[{size:"large",tabs:[{active:!1,label:"Nøkkeltall",id:"folkemengde_nokkeltall",template:"g",url:"".concat(k(),"/mockDataG.json")}]}]},alder:{name:"alder",aldersgrupper:[{size:"large",tabs:[{active:!1,label:"Antall",id:"alder_segment_antall",template:"d",url:"".concat(k(),"/mockDataD2.json"),method:"value"},{active:!1,label:"Andel",id:"alder_segment_andel",template:"d",url:"".concat(k(),"/mockDataD2.json"),method:"ratio"}]}],populasjonspyramide:[{size:"large",tabs:[{active:!1,label:"Status",id:"alder_distribusjon_status",template:"e",url:"".concat(k(),"/mockDataD2.json")},{active:!1,label:"Historisk",id:"alder_distribusjon_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}],median:[{size:"large",tabs:[{active:!1,label:"Status",id:"alder_medianalder_status",template:"f",url:"".concat(k(),"/mockDataD2.json")}]}]},innvandring:{name:"innvandring",befolkning:[{size:"large",tabs:[{active:!1,label:"Status",id:"innvandring_befolkning_status",template:"a",url:"".concat(k(),"/mockDataA2.json")},{active:!1,label:"Historisk",id:"innvandring_befolkning_historisk",template:"c",url:"".concat(k(),"/mockDataC.json")}]}],under16:[{size:"small",tabs:[{active:!1,label:"Status",id:"innvandring_under16-totalt_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer1.json")},{active:!1,label:"Historisk",id:"innvandring_under16-totalt_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Status",id:"innvandring_under16-en-innvandrerforelder_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer2.json")},{active:!1,label:"Historisk",id:"innvandring_under16-en-innvandrerforelder_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Status",id:"innvandring_under16-to-innvandrerforeldre_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"innvandring_under16-to-innvandrerforeldre_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}]},eierform:{name:"eierform",eierform:[{size:"large",tabs:[{active:!1,label:"Status",id:"eierform_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Matrise",id:"eierform_matrise",template:"i",url:"".concat(k(),"/mockDataI.json")},{active:!1,label:"Historisk",id:"eierform_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}]},boligpriser:{name:"boligpriser",boligpriser:[{size:"large",tabs:[{active:!1,label:"Status",id:"boligpriser_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"boligpriser_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}]},trangboddhet:{name:"trangboddhet",helhet:[{size:"large",tabs:[{active:!1,label:"Status",id:"trangboddhet_alle_status",template:"j",url:"".concat(k(),"/mockDataJ.json"),method:"ratio"},{active:!1,label:"Historisk",id:"trangboddhet_alle_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}],spesifikk:[{size:"small",tabs:[{active:!1,label:"Status",id:"trangboddhet_under0.5_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"trangboddhet_under0.5_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Status",id:"trangboddhet_0.5-0.9_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"trangboddhet_0.5-0.9_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Status",id:"trangboddhet_1.0-1.9_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"trangboddhet_1.0-1.9_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Status",id:"trangboddhet_over2_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"trangboddhet_over2_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}]},kommunale_boliger:{name:"kommunale_boliger",blokk:[{size:"large",tabs:[{active:!1,label:"Status",id:"blokkleilighet_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"blokkleilighet_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}]},flytting:{name:"flytting",hyppighet:[{size:"large",tabs:[{active:!1,label:"Status",id:"flyttehyppighet_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"flyttehyppighet_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}]},bygningstyper:{name:"bygningstyper",totalt:[{size:"large",tabs:[{active:!1,label:"Status",id:"eierform_totalt_status",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"eierform_totalt_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")},{active:!1,label:"Matrise",id:"eierform_totalt_matrise",template:"i",url:"".concat(k(),"/mockDataI.json")}]}],spesifikk:[{size:"small",tabs:[{active:!1,label:"Andel",id:"eierform_blokk_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Antall",id:"eierform_blokk_antall",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"eierform_rekkehus_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Antall",id:"eierform_rekkehus_antall",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"eierform_enebolig_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Antall",id:"eierform_enebolig_antall",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")}]}]},husholdninger:{name:"husholdninger",totalt:[{size:"large",tabs:[{active:!1,label:"Status",id:"husholdning_totalt_status",template:"a",url:"".concat(k(),"/mockDataA.json")},{active:!1,label:"Historisk",id:"husholdning_totalt_historisk",template:"c",url:"".concat(k(),"/mockDataC.json")},{active:!1,label:"Matrise",id:"husholdning_totalt_matrise",template:"i",url:"".concat(k(),"/mockDataI.json")}]}],spesifikk:[{size:"small",tabs:[{active:!1,label:"Andel",id:"husholdning_1-barn_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Antall",id:"husholdning_1-barn_antall",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"husholdning_2-barn_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Antall",id:"husholdning_2-barn_antall",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"husholdning_3-barn_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Antall",id:"husholdning_3-barn_antall",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")}]}]},levekaar:{name:"levekaar",spesifikk:[{size:"small",tabs:[{active:!1,label:"Andel",id:"levekar_funksjonsevne_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"levekar_funksjonsevne_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"levekar_lav-utdanning_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"levekar_lav-utdanning_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"levekar_fattige_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"levekar_fattige_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"levekar_ikke-sysselsatte_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"levekar_ikke-sysselsatte_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"levekar_vgs_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"levekar_vgs_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"levekar_dodsrate_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"levekar_dodsrate_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"levekar_trangbodde_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"levekar_trangbodde_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]},{size:"small",tabs:[{active:!1,label:"Andel",id:"levekar_innvandrere_andel",template:"a",url:"".concat(k(),"/mockDataAinnvandrer3.json")},{active:!1,label:"Historisk",id:"levekar_innvandrere_historisk",template:"b",url:"".concat(k(),"/mockDataB.json")}]}]}},At=_t,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("Forside")])},Dt=[],jt={name:"Home"},Ht=jt,Bt=Object(m["a"])(Ht,Ct,Dt,!1,null,null,null);Bt.options.__file="Home.vue";var Lt=Bt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},t._l(t.items,function(e){return a("card-image",{key:e.value,attrs:{id:e.value,kategori:e.options.kategori,tema:e.options.tema,"bg-image":e.options.bgImage,"bg-color":e.options.bgColor,"txt-color":e.options.txtColor,"click-bydel":t.onClickCard}})}),1),t._m(0)])},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Bydelskart")])])}],Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__item"},[a("div",{staticClass:"oslo__card-image",style:{backgroundImage:"url("+t.dataBgImage+")",backgroundColor:t.dataBgColor},on:{click:function(e){t.clickBydel(t.id)}}},[a("span",{staticClass:"text-uppercase oslo__category",style:{backgroundColor:t.dataTxtColor}},[t._v("\n      "+t._s(t.dataKategori)+"\n    ")]),a("span",{staticClass:"oslo__tema",domProps:{innerHTML:t._s(t.dataTema)}}),a("span",{staticClass:"oslo__see-more-text"},[t._v("Se mer ----------\x3e")])])])},Et=[],$t={name:"CardImage",props:{kategori:{type:String,required:!0},tema:{type:String,required:!0},bgImage:{type:String,required:!0},bgColor:{type:String,required:!0},txtColor:{type:String,required:!0},clickBydel:{type:Function,required:!0},id:{type:String,required:!0}},data:function(){return{dataKategori:this.kategori,dataTema:this.tema,dataBgImage:this.bgImage,dataBgColor:this.bgColor,dataTxtColor:this.txtColor,dataId:this.id}}},zt=$t,Mt=(a("bac8"),Object(m["a"])(zt,Tt,Et,!1,null,"1fbdbd98",null));Mt.options.__file="CardImage.vue";var Ft=Mt.exports,Ot={name:"Bydel",components:{CardImage:Ft},data:function(){return{items:A}},methods:{onClickCard:function(t){this.$router.push({path:"".concat(this.$route.path,"/").concat(t)})}}},It=Ot,Gt=Object(m["a"])(It,Rt,St,!1,null,null,null);Gt.options.__file="Bydel.vue";var Pt=Gt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},[t._l(t.settings.aldersgrupper,function(t,e){return a("graph-card",{key:"alder-grupper-"+e,attrs:{settings:t}})}),t._l(t.settings.median,function(t,e){return a("graph-card",{key:"alder-median-"+e,attrs:{settings:t}})}),t._l(t.settings.populasjonspyramide,function(t,e){return a("graph-card",{key:"alder-pyramide-"+e,attrs:{settings:t}})})],2),t._m(0)])},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container",class:{large:"large"===t.settings.size}},[a("div",{staticClass:"card"},[a("div",{staticClass:"tabs"},[a("div",t._l(t.settings.tabs,function(e,i){return a("button",{key:i,staticClass:"tabs__button",class:{active:t.active===i},attrs:{"aria-label":"tab-button"},on:{click:function(e){t.activeTab(i)}}},[t._v(t._s(e.label))])}),0),a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],staticClass:"context-menu",on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"escape",void 0,e.key,void 0))return null;t.closeMenu()}}},[a("button",{staticClass:"context-menu__button",attrs:{"aria-label":"context-menu-button"},on:{click:function(e){t.showDropdown=!t.showDropdown}}},[t.showDropdown?a("i",{staticClass:"material-icons context-menu__button-icon"},[t._v("close")]):t._e(),t.showDropdown?t._e():a("i",{staticClass:"material-icons context-menu__button-icon"},[t._v("menu")])]),t.showDropdown?a("div",{staticClass:"context-menu__dropdown"},[a("a",{staticClass:"context-menu__dropdown-item",attrs:{role:"button",tabIndex:"0","aria-label":"lagre graf som png"},on:{click:function(e){t.savePng(t.settings.tabs[t.active].id)}}},[a("i",{staticClass:"material-icons context-menu__dropdown-item-icon"},[t._v("photo_size_select_actual")]),a("span",[t._v("Last ned som PNG")])])]):t._e()])]),void 0!==t.settings.tabs[t.active]?a("graph",{ref:"graph",attrs:{settings:t.settings.tabs[t.active]}}):t._e()],1)])},Kt=[],Xt=a("bc05"),Yt={name:"GraphCard",components:{Graph:kt},data:function(){return{active:0,showDropdown:!1}},props:{settings:{type:Object,required:!0}},methods:{closeMenu:function(){this.showDropdown&&(this.showDropdown=!1)},activeTab:function(t){this.active=t},savePng:function(t){var e=this.$refs.graph.$refs.svg,a="".concat(this.$route.params.bydel,"_").concat(t,".png");Object(Xt["saveSvgAsPng"])(e,a,{backgroundColor:"white",encoderOptions:1,width:e.width.baseVal.value+40,height:e.height.baseVal.value+40,top:-20,left:-20})}}},Ut=Yt,Vt=(a("7225"),Object(m["a"])(Ut,qt,Kt,!1,null,"9df844d4",null));Vt.options.__file="GraphCard.vue";var Jt=Vt.exports,Qt={name:"Alder",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},Zt=Qt,te=(a("ef10"),Object(m["a"])(Zt,Wt,Nt,!1,null,"6aa09bde",null));te.options.__file="Alder.vue";var ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},t._l(t.settings.boligpriser,function(t,e){return a("graph-card",{key:"boligpriser-"+e,attrs:{settings:t}})}),1),t._m(0)])},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],ne={name:"Boligpriser",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},re=ne,se=(a("987b"),Object(m["a"])(re,ae,ie,!1,null,"4d9d0983",null));se.options.__file="Boligpriser.vue";var oe=se.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},[t._l(t.settings.totalt,function(t,e){return a("graph-card",{key:"bygningstyper-totalt-"+e,attrs:{settings:t}})}),t._l(t.settings.spesifikk,function(t,e){return a("graph-card",{key:"bygningstyper-spesifikk-"+e,attrs:{settings:t}})})],2),t._m(0)])},he=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],ce={name:"Bygningstyper",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},de=ce,ue=(a("54c1"),Object(m["a"])(de,le,he,!1,null,"4373ffe0",null));ue.options.__file="Bygningstyper.vue";var pe=ue.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},t._l(t.settings.eierform,function(t,e){return a("graph-card",{key:"eierform-"+e,attrs:{settings:t}})}),1),t._m(0)])},fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],me={name:"Eierform",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},ve=me,be=(a("4f32"),Object(m["a"])(ve,ge,fe,!1,null,"65197e12",null));be.options.__file="Eierform.vue";var xe=be.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},t._l(t.settings.hyppighet,function(t,e){return a("graph-card",{key:"flytting-"+e,attrs:{settings:t}})}),1),t._m(0)])},we=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],ke={name:"Flytting",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},_e=ke,Ae=(a("bd1f"),Object(m["a"])(_e,ye,we,!1,null,"408df2d2",null));Ae.options.__file="Flytting.vue";var Ce=Ae.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},[t._l(t.settings.nokkeltall,function(t,e){return a("graph-card",{key:"folkemengde-nokkeltall-"+e,attrs:{settings:t}})}),t._l(t.settings.fremskriving,function(t,e){return a("graph-card",{key:"folkemengde-fremskriving-"+e,attrs:{settings:t}})}),t._l(t.settings.utvikling,function(t,e){return a("graph-card",{key:"folkemengde-utvikling-"+e,attrs:{settings:t}})})],2),t._m(0)])},je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],He={name:"Folkemengde",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},Be=He,Le=(a("92b7"),Object(m["a"])(Be,De,je,!1,null,"89715c32",null));Le.options.__file="Folkemengde.vue";var Re=Le.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},[t._l(t.settings.totalt,function(t,e){return a("graph-card",{key:"husholdninger-totalt-"+e,attrs:{settings:t}})}),t._l(t.settings.spesifikk,function(t,e){return a("graph-card",{key:"husholdninger-spesifikk-"+e,attrs:{settings:t}})})],2),t._m(0)])},Te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],Ee={name:"Husholdninger",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},$e=Ee,ze=(a("6b87"),Object(m["a"])($e,Se,Te,!1,null,"1a3f4ea0",null));ze.options.__file="Husholdninger.vue";var Me=ze.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},[t._l(t.settings.befolkning,function(t,e){return a("graph-card",{key:"innvandrer-befolkning-"+e,attrs:{settings:t}})}),t._l(t.settings.under16,function(t,e){return a("graph-card",{key:"innvandrer-under16-"+e,attrs:{settings:t}})})],2),t._m(0)])},Oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],Ie={name:"Innvandrerbefolkningen",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},Ge=Ie,Pe=(a("7656"),Object(m["a"])(Ge,Fe,Oe,!1,null,"aefa91b8",null));Pe.options.__file="Innvandrerbefolkningen.vue";var We=Pe.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},t._l(t.settings.blokk,function(t,e){return a("graph-card",{key:"kommunale-boliger-"+e,attrs:{settings:t}})}),1),t._m(0)])},qe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],Ke={name:"Kommunaleboliger",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},Xe=Ke,Ye=(a("5351"),Object(m["a"])(Xe,Ne,qe,!1,null,"69172f58",null));Ye.options.__file="Kommunaleboliger.vue";var Ue=Ye.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},t._l(t.settings.spesifikk,function(t,e){return a("graph-card",{key:"levekaar-"+e,attrs:{settings:t}})}),1),t._m(0)])},Je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],Qe={name:"Levekaar",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},Ze=Qe,ta=(a("c2d9"),Object(m["a"])(Ze,Ve,Je,!1,null,"a4e0180e",null));ta.options.__file="Levekaar.vue";var ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-container__cards"},[t._l(t.settings.helhet,function(t,e){return a("graph-card",{key:"trangboddhet-helhet-"+e,attrs:{settings:t}})}),a("h2",{staticClass:"section-heading"},[t._v("Mellomtittel test")]),t._l(t.settings.spesifikk,function(t,e){return a("graph-card",{key:"trangboddhet-spesifikk-"+e,attrs:{settings:t}})})],2),t._m(0)])},ia=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container__map"},[a("h3",[t._v("Kart")])])}],na={name:"Trangboddhet",components:{GraphCard:Jt},props:{settings:{type:Object,required:!0}}},ra=na,sa=Object(m["a"])(ra,aa,ia,!1,null,null,null);sa.options.__file="Trangboddhet.vue";var oa=sa.exports;i["a"].use(M["a"]);var la=new M["a"]({routes:[{path:"/",name:"Home",component:Lt},{path:"/graphA",name:"Graph1",props:{settings:{url:"".concat(k(),"/mockDataA.json"),template:"a"}},component:kt},{path:"/graphB",name:"Graph2",props:{settings:{url:"".concat(k(),"/mockDataB.json"),template:"b"}},component:kt},{path:"/graphC",name:"Graph3",props:{settings:{url:"".concat(k(),"/mockDataC.json"),template:"c"}},component:kt},{path:"/graphD",name:"Graph4",props:{settings:{url:"".concat(k(),"/mockDataD2.json"),method:"ratio",template:"d"}},component:kt},{path:"/graphD2",name:"Graph5b",props:{settings:{url:"".concat(k(),"/mockDataD2.json"),method:"value",template:"d"}},component:kt},{path:"/graphE",name:"Graph5",props:{settings:{url:"".concat(k(),"/mockDataD2.json"),template:"e"}},component:kt},{path:"/graphF",name:"Graph8",props:{settings:{url:"".concat(k(),"/mockDataD2.json"),template:"f"}},component:kt},{path:"/graphG",name:"Graph7",props:{settings:{url:"".concat(k(),"/mockDataG.json"),template:"g"}},component:kt},{path:"/graphH",name:"Graph10",props:{settings:{url:"".concat(k(),"/mockDataH.json"),template:"h"}},component:kt},{path:"/graphI",name:"Graph6",props:{settings:{url:"".concat(k(),"/mockDataI.json"),template:"i"}},component:kt},{path:"/graphJ",name:"Graph9",props:{settings:{url:"".concat(k(),"/mockDataJ.json"),template:"j"}},component:kt},{path:"/bydel/:bydel",name:"Bydel",component:Pt},{path:"/bydel/:bydel/folkemengde",name:"BydelFolkemengde",props:{settings:At.folkemengde},component:Re},{path:"/bydel/:bydel/alder",name:"BydelAlder",props:{settings:At.alder},component:ee},{path:"/bydel/:bydel/innvandrerbefolkningen",name:"BydelInnvandrerbefolkningen",props:{settings:At.innvandring},component:We},{path:"/bydel/:bydel/husholdninger",name:"BydelHusholdninger",props:{settings:At.husholdninger},component:Me},{path:"/bydel/:bydel/trangboddhet",name:"BydelTrandboddhet",props:{settings:At.trangboddhet},component:oa},{path:"/bydel/:bydel/eierform",name:"BydelEierform",props:{settings:At.eierform},component:xe},{path:"/bydel/:bydel/kommunaleboliger",name:"BydelKommunaleboliger",props:{settings:At.kommunale_boliger},component:Ue},{path:"/bydel/:bydel/flytting",name:"BydelFlytting",props:{settings:At.flytting},component:Ce},{path:"/bydel/:bydel/bygningstyper",name:"BydelBygningstyper",props:{settings:At.bygningstyper},component:pe},{path:"/bydel/:bydel/boligpriser",name:"BydelBoligpriser",props:{settings:At.boligpriser},component:oe},{path:"/bydel/:bydel/levekaar",name:"Bydellevekaar",props:{settings:At.levekaar},component:ea},{path:"/sammenlign/:bydel",name:"Sammenlign",component:Pt},{path:"/sammenlign/:bydel/folkemengde",name:"Folkemengde",props:{settings:At.folkemengde},component:Re},{path:"/sammenlign/:bydel/alder",name:"Alder",props:{settings:At.alder},component:ee},{path:"/sammenlign/:bydel/innvandrerbefolkningen",name:"Innvandrerbefolkningen",props:{settings:At.innvandring},component:We},{path:"/sammenlign/:bydel/husholdninger",name:"Husholdninger",props:{settings:At.husholdninger},component:Me},{path:"/sammenlign/:bydel/trangboddhet",name:"Trandboddhet",props:{settings:At.trangboddhet},component:oa},{path:"/sammenlign/:bydel/eierform",name:"Eierform",props:{settings:At.eierform},component:xe},{path:"/sammenlign/:bydel/kommunaleboliger",name:"Kommunaleboliger",props:{settings:At.kommunale_boliger},component:Ue},{path:"/sammenlign/:bydel/flytting",name:"Flytting",props:{settings:At.flytting},component:Ce},{path:"/sammenlign/:bydel/bygningstyper",name:"Bygningstyper",props:{settings:At.bygningstyper},component:pe},{path:"/sammenlign/:bydel/boligpriser",name:"Boligpriser",props:{settings:At.boligpriser},component:oe},{path:"/sammenlign/:bydel/levekaar",name:"levekaar",props:{settings:At.levekaar},component:ea}]}),ha=a("2f62");i["a"].use(ha["a"]);var ca=!1,da=new ha["a"].Store({state:{selectedBydel:[]},debug:ca,mutations:{SET_SELECTED_BYDEL:function(t,e){var a=e.selectedBydel,i=t;i.selectedBydel=a}},actions:{SET_SELECTED_BYDEL:function(t,e){var a=t.commit,i=e.selectedBydel;return a("SET_SELECTED_BYDEL",{selectedBydel:i}),Promise.resolve()}}}),ua={bind:function(t,e,a){t.clickOutsideEvent=function(i){t===i.target||t.contains(i.target)||a.context[e.expression](i)},document.body.addEventListener("click",t.clickOutsideEvent)},unbind:function(t){document.body.removeEventListener("click",t.clickOutsideEvent)}};a("6eb0"),a("da64"),a("fb98");i["a"].use(r["a"]),i["a"].config.productionTip=!1,i["a"].config.devtools=!0,i["a"].config.performance=!1,i["a"].directive("click-outside",ua),new i["a"]({router:la,store:da,render:function(t){return t(z)}}).$mount("#app")},"56da":function(t,e,a){t.exports=a.p+"img/oslo-logo.f788c641.svg"},"586f":function(t,e,a){},"5bb9":function(t,e,a){},6933:function(t,e,a){},"6b87":function(t,e,a){"use strict";var i=a("89ff"),n=a.n(i);n.a},"71b2":function(t,e,a){},7225:function(t,e,a){"use strict";var i=a("5bb9"),n=a.n(i);n.a},7656:function(t,e,a){"use strict";var i=a("6933"),n=a.n(i);n.a},"7ebe":function(t,e,a){},8115:function(t,e,a){"use strict";var i=a("71b2"),n=a.n(i);n.a},"89ff":function(t,e,a){},"8fa4":function(t,e,a){"use strict";var i=a("a0b6"),n=a.n(i);n.a},"92b7":function(t,e,a){"use strict";var i=a("1cca"),n=a.n(i);n.a},"987b":function(t,e,a){"use strict";var i=a("d0c7"),n=a.n(i);n.a},a07f:function(t,e,a){},a0b6:function(t,e,a){},aadd:function(t,e,a){},bac8:function(t,e,a){"use strict";var i=a("a07f"),n=a.n(i);n.a},bd1f:function(t,e,a){"use strict";var i=a("c12b"),n=a.n(i);n.a},c12b:function(t,e,a){},c2d9:function(t,e,a){"use strict";var i=a("7ebe"),n=a.n(i);n.a},d0c7:function(t,e,a){},ef10:function(t,e,a){"use strict";var i=a("fddb"),n=a.n(i);n.a},fb98:function(t,e,a){},fddb:function(t,e,a){}});
//# sourceMappingURL=app.f957c1a0.js.map